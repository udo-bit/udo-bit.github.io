<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9602.html"><meta property="og:site_name" content="Utopia"><meta property="og:title" content="ç‘å‰å¤–å–ä¼˜åŒ–08"><meta property="og:description" content="ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–-Day02 è¯¾ç¨‹å†…å®¹ MySQLä¸»ä»å¤åˆ¶ è¯»å†™åˆ†ç¦»æ¡ˆä¾‹ é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦» Nginx-æ¦‚è¿° Nginx-å‘½ä»¤ Nginx-åº”ç”¨ å‰è¨€ 1). å­˜åœ¨çš„é—®é¢˜ åœ¨å‰é¢åŸºç¡€åŠŸèƒ½å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åå°ç®¡ç†ç³»ç»ŸåŠç§»åŠ¨ç«¯çš„ç”¨æˆ·ï¼Œåœ¨è¿›è¡Œæ•°æ®è®¿é—®æ—¶ï¼Œéƒ½æ˜¯ç›´æ¥æ“ä½œæ•°æ®åº“MySQLçš„ã€‚ç»“æ„å¦‚ä¸‹å›¾ï¼š image-20210825100741985 è€Œåœ¨å½“å‰ï¼Œ..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-09-05T15:41:59.000Z"><meta property="article:author" content="GXL"><meta property="article:modified_time" content="2024-09-05T15:41:59.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ç‘å‰å¤–å–ä¼˜åŒ–08","image":[""],"dateModified":"2024-09-05T15:41:59.000Z","author":[{"@type":"Person","name":"GXL","url":"https://www.cnblogs.com/feel-myself","email":"gaoxiaoliang123@126.com"}]}</script><link rel="icon" href="/logo-custom.png"><title>ç‘å‰å¤–å–ä¼˜åŒ–08 | Utopia</title><meta name="description" content="ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–-Day02 è¯¾ç¨‹å†…å®¹ MySQLä¸»ä»å¤åˆ¶ è¯»å†™åˆ†ç¦»æ¡ˆä¾‹ é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦» Nginx-æ¦‚è¿° Nginx-å‘½ä»¤ Nginx-åº”ç”¨ å‰è¨€ 1). å­˜åœ¨çš„é—®é¢˜ åœ¨å‰é¢åŸºç¡€åŠŸèƒ½å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åå°ç®¡ç†ç³»ç»ŸåŠç§»åŠ¨ç«¯çš„ç”¨æˆ·ï¼Œåœ¨è¿›è¡Œæ•°æ®è®¿é—®æ—¶ï¼Œéƒ½æ˜¯ç›´æ¥æ“ä½œæ•°æ®åº“MySQLçš„ã€‚ç»“æ„å¦‚ä¸‹å›¾ï¼š image-20210825100741985 è€Œåœ¨å½“å‰ï¼Œ...">
    <link rel="preload" href="/assets/style-CyGu9tNq.css" as="style"><link rel="stylesheet" href="/assets/style-CyGu9tNq.css">
    <link rel="modulepreload" href="/assets/app-CjACv6nF.js"><link rel="modulepreload" href="/assets/ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–02.html-C2KIwsDd.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-DyOaLVnn.js" as="script"><link rel="prefetch" href="/assets/intro.html-CvsWhc5Y.js" as="script"><link rel="prefetch" href="/assets/index.html-BL4ezj3m.js" as="script"><link rel="prefetch" href="/assets/index.html-hX9Iryai.js" as="script"><link rel="prefetch" href="/assets/index.html-BPeNTqgj.js" as="script"><link rel="prefetch" href="/assets/index.html-Be4KqS4a.js" as="script"><link rel="prefetch" href="/assets/Javaç¬”è®°.html-Cqg13ll_.js" as="script"><link rel="prefetch" href="/assets/index.html-vG1y0sVG.js" as="script"><link rel="prefetch" href="/assets/gitç¬”è®°.html-SsPkrQRo.js" as="script"><link rel="prefetch" href="/assets/markdownå­¦ä¹ .html-jwaNfBYN.js" as="script"><link rel="prefetch" href="/assets/nuxtå…¥é—¨.html-C88_rJYV.js" as="script"><link rel="prefetch" href="/assets/sqlç¬”è®°.html-CuYuEzK9.js" as="script"><link rel="prefetch" href="/assets/index.html-hg1vWs6d.js" as="script"><link rel="prefetch" href="/assets/cherry.html-DvQW5Fgp.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-DyeNV-19.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-hMCINHyD.js" as="script"><link rel="prefetch" href="/assets/tomato.html-DP4eVrdI.js" as="script"><link rel="prefetch" href="/assets/index.html-CvXsk-l-.js" as="script"><link rel="prefetch" href="/assets/è‚¡ç¥¨.html-B7WDbWXl.js" as="script"><link rel="prefetch" href="/assets/index.html-CiqFJMIs.js" as="script"><link rel="prefetch" href="/assets/index.html-DsMq9TKx.js" as="script"><link rel="prefetch" href="/assets/index.html-DwPBglEa.js" as="script"><link rel="prefetch" href="/assets/index.html-COsjzKAZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BqJYiPAG.js" as="script"><link rel="prefetch" href="/assets/index.html-qmyCdUPK.js" as="script"><link rel="prefetch" href="/assets/index.html-b8zSPQ1p.js" as="script"><link rel="prefetch" href="/assets/1.html-BQ0qIxTU.js" as="script"><link rel="prefetch" href="/assets/2.html-BRTeEA47.js" as="script"><link rel="prefetch" href="/assets/3.html-CHEKnUg1.js" as="script"><link rel="prefetch" href="/assets/4.html-B1Fw0o31.js" as="script"><link rel="prefetch" href="/assets/1.html-Bce3AUi0.js" as="script"><link rel="prefetch" href="/assets/2.html-BYSDAU6O.js" as="script"><link rel="prefetch" href="/assets/3.html-CGk4x3Ev.js" as="script"><link rel="prefetch" href="/assets/4.html-CUcGx2c6.js" as="script"><link rel="prefetch" href="/assets/DockeråŸºç¡€.html-CRAvFlxT.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd9SXM3E.js" as="script"><link rel="prefetch" href="/assets/GitåŸºç¡€.html--lC1cCFM.js" as="script"><link rel="prefetch" href="/assets/index.html-h_lMi47v.js" as="script"><link rel="prefetch" href="/assets/index.html-BsIKVR1E.js" as="script"><link rel="prefetch" href="/assets/index.html-BSQdOB0L.js" as="script"><link rel="prefetch" href="/assets/Linux01.html-B3gK7Evo.js" as="script"><link rel="prefetch" href="/assets/Linux02.html-DFK4eET4.js" as="script"><link rel="prefetch" href="/assets/index.html-COYvdEfU.js" as="script"><link rel="prefetch" href="/assets/index.html-nK0XSYhH.js" as="script"><link rel="prefetch" href="/assets/index.html-CRKTz7DM.js" as="script"><link rel="prefetch" href="/assets/test.html-Bx6s7xWp.js" as="script"><link rel="prefetch" href="/assets/index.html-akYLLauP.js" as="script"><link rel="prefetch" href="/assets/vite_vue_tså…¶ä»–é—®é¢˜.html-6NtO7ORt.js" as="script"><link rel="prefetch" href="/assets/vite_vue_tsåŸºç¡€é…ç½®.html-BJbE6qZj.js" as="script"><link rel="prefetch" href="/assets/vite_vue_tså°è£…axiosè¯·æ±‚.html-BRovty1d.js" as="script"><link rel="prefetch" href="/assets/vite_vue_tsçŠ¶æ€ç®¡ç†pinia.html-BXUbuQbv.js" as="script"><link rel="prefetch" href="/assets/vite_vue_tsè·¯ç”±ç®¡ç†vue-router.html-DnuObmcZ.js" as="script"><link rel="prefetch" href="/assets/HTTP_Tomcat_Servlet.html-BCE_5gxc.js" as="script"><link rel="prefetch" href="/assets/JDBCåŸºç¡€.html-DbvlaYo9.js" as="script"><link rel="prefetch" href="/assets/JSPåŸºç¡€.html-BacO8EK9.js" as="script"><link rel="prefetch" href="/assets/index.html-bccdCdjZ.js" as="script"><link rel="prefetch" href="/assets/Request_Response.html-Bbwt7BQs.js" as="script"><link rel="prefetch" href="/assets/mavenåŸºç¡€.html-DUEh3B1r.js" as="script"><link rel="prefetch" href="/assets/mybatisåŸºç¡€.html-DTZP3qCW.js" as="script"><link rel="prefetch" href="/assets/mysqlåŸºç¡€.html-MIhb-3ar.js" as="script"><link rel="prefetch" href="/assets/mysqlè¿›é˜¶.html-CUbzibD8.js" as="script"><link rel="prefetch" href="/assets/ä¼šè¯æŠ€æœ¯.html-DLObmleY.js" as="script"><link rel="prefetch" href="/assets/è¿‡æ»¤å™¨_ç›‘å¬å™¨_Ajax.html-CLpY_qly.js" as="script"><link rel="prefetch" href="/assets/index.html-Drcifezs.js" as="script"><link rel="prefetch" href="/assets/Javaå…¥é—¨_IDEA_åŸºç¡€è¯­æ³•.html-BAC3CtD7.js" as="script"><link rel="prefetch" href="/assets/index.html-C1tuSKAp.js" as="script"><link rel="prefetch" href="/assets/åŠ¨æ¼«ç¾å¥³æ‹¼å›¾.html-B7jajZ_t.js" as="script"><link rel="prefetch" href="/assets/å¸¸ç”¨API01.html-CQ6RvQGE.js" as="script"><link rel="prefetch" href="/assets/å¸¸ç”¨API02.html-2lht5oKp.js" as="script"><link rel="prefetch" href="/assets/å¾ªç¯è¯­å¥.html-DLVspdjD.js" as="script"><link rel="prefetch" href="/assets/æ•°ç»„.html-D7yda_Jr.js" as="script"><link rel="prefetch" href="/assets/æ–¹æ³•.html-DvhJSZnZ.js" as="script"><link rel="prefetch" href="/assets/è¿ç®—ç¬¦_é€‰æ‹©è¯­å¥.html-BUT17uGD.js" as="script"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡.html-Ca1HI6E_.js" as="script"><link rel="prefetch" href="/assets/index.html-BsQyDfPc.js" as="script"><link rel="prefetch" href="/assets/API_é›†åˆ.html-C6x9uZpm.js" as="script"><link rel="prefetch" href="/assets/ArrayListé›†åˆ_å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ.html-Cay3Q9qF.js" as="script"><link rel="prefetch" href="/assets/IO01.html-Jd8524Di.js" as="script"><link rel="prefetch" href="/assets/IO02.html-CTjdUkt3.js" as="script"><link rel="prefetch" href="/assets/index.html-D3tdzHMa.js" as="script"><link rel="prefetch" href="/assets/stream_File.html-DsAo3Ioj.js" as="script"><link rel="prefetch" href="/assets/å†…éƒ¨ç±»_Lambda_API.html-CX4klGwL.js" as="script"><link rel="prefetch" href="/assets/åˆ†ç±»å’Œstatic.html-CzCWBDaY.js" as="script"><link rel="prefetch" href="/assets/åŸºç¡€åŠ å¼º01.html-CgGy7wlp.js" as="script"><link rel="prefetch" href="/assets/åŸºç¡€åŠ å¼º02.html-DUZK2cvJ.js" as="script"><link rel="prefetch" href="/assets/å¤šçº¿ç¨‹.html-Z-Ljcvl-.js" as="script"><link rel="prefetch" href="/assets/å¸¸ç”¨API_å¼‚å¸¸.html-crEb-bHJ.js" as="script"><link rel="prefetch" href="/assets/å¸¸ç”¨API.html-DwWR5qy9.js" as="script"><link rel="prefetch" href="/assets/æ¥å£å’Œå¤šæ€.html-DPiR_vP9.js" as="script"><link rel="prefetch" href="/assets/ç»§æ‰¿.html-BQRDwRDp.js" as="script"><link rel="prefetch" href="/assets/ç½‘ç»œç¼–ç¨‹_åŸºç¡€åŠ å¼º.html-CDKALbUR.js" as="script"><link rel="prefetch" href="/assets/é›†åˆ01.html-CBTkRyVZ.js" as="script"><link rel="prefetch" href="/assets/é›†åˆ02.html-exnqFNzn.js" as="script"><link rel="prefetch" href="/assets/é¢å‘å¯¹è±¡åŸºç¡€.html-BUYMht8-.js" as="script"><link rel="prefetch" href="/assets/index.html-D2fwj0dm.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-Dut3-TQP.js" as="script"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html-BafHxee0.js" as="script"><link rel="prefetch" href="/assets/index.html-BDgpjDpd.js" as="script"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html-BdWZSTRW.js" as="script"><link rel="prefetch" href="/assets/01-ç¯å¢ƒæ­å»º.html-aw5Y19k_.js" as="script"><link rel="prefetch" href="/assets/index.html-B0_olg6-.js" as="script"><link rel="prefetch" href="/assets/day02-å®Œå–„ä¸ªäººä¿¡æ¯.html-BQ9aM8Nk.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹03-MongoDBåŸºç¡€.html-Chk9hXrg.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹04-åœˆå­åŠŸèƒ½å®ç°.html-y2mucOyw.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹05-åœˆå­äº’åŠ¨.html-uWZumXq9.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹06-å³æ—¶é€šä¿¡.html-8NFFSJLy.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹07-æœé™„è¿‘.html-BkdhjLM5.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹08-å°è§†é¢‘æ–¹æ¡ˆ.html-157nyBeV.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹09-æ­å»ºåå°ç³»ç»Ÿ.html-BKKPrSKe.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹10-æ•°æ®ç»Ÿè®¡ä¸å†…å®¹å®¡æ ¸.html-DmMsrw_n.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹11-å®ç°æ¨èç³»ç»Ÿ.html-CA9xbN2y.js" as="script"><link rel="prefetch" href="/assets/æ¢èŠ±äº¤å‹å‰ç½®-dubbo.html-D6V4CG9A.js" as="script"><link rel="prefetch" href="/assets/çŸ­ä¿¡å‘é€.html-3wwzdEeq.js" as="script"><link rel="prefetch" href="/assets/01åŸºç¡€æ•°æ®å¼€å‘-æœåŠ¡ç®¡ç†.html-DKsdSN1o.js" as="script"><link rel="prefetch" href="/assets/02åŸºç¡€æ•°æ®å¼€å‘-æœåŠ¡ç®¡ç†-å‰ç«¯.html-D8pFU-to.js" as="script"><link rel="prefetch" href="/assets/03åŸºç¡€æ•°æ®å¼€å‘-é¢„çº¦ç®¡ç†.html-B3b9zoDy.js" as="script"><link rel="prefetch" href="/assets/04æƒé™è®¤è¯-åŸºç¡€.html-CZmSW1GY.js" as="script"><link rel="prefetch" href="/assets/05æƒé™è®¤è¯-SpringSecurityè®¤è¯æˆæƒ.html-Db4BX8ci.js" as="script"><link rel="prefetch" href="/assets/06æƒé™è®¤è¯-é¡¹ç›®é›†æˆ.html-KEVAsaTu.js" as="script"><link rel="prefetch" href="/assets/07å·¥ä½œæµ-Activiti7åŸºç¡€.html-BJ5FKO5Z.js" as="script"><link rel="prefetch" href="/assets/08å…¥é€€ç®¡ç†-å…¥ä½-1.html-vFtWT8e1.js" as="script"><link rel="prefetch" href="/assets/09å…¥é€€ç®¡ç†-å…¥ä½-2.html-CCKTNSAS.js" as="script"><link rel="prefetch" href="/assets/10å…¥é€€ç®¡ç†-å…¥ä½-3.html-C6UbdupK.js" as="script"><link rel="prefetch" href="/assets/11å…¥é€€ç®¡ç†-é€€ä½.html-Bv1KmnMq.js" as="script"><link rel="prefetch" href="/assets/12ç‰©è”ç½‘æ™ºèƒ½ç›‘æµ‹-IOTäº§å“è®¾å¤‡ç®¡ç†.html-DrVxqlwl.js" as="script"><link rel="prefetch" href="/assets/13ç‰©è”ç½‘æ™ºèƒ½ç›‘æµ‹-IOTæ¶ˆæ¯å¤„ç†.html-DVfHphh_.js" as="script"><link rel="prefetch" href="/assets/14ç‰©è”ç½‘æ™ºèƒ½ç›‘æµ‹-æŠ¥è­¦åŠä¼˜åŒ–.html-0MMGCWcN.js" as="script"><link rel="prefetch" href="/assets/index.html-C7eVFWMQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BWM1HFdx.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–01.html-DleUCa5B.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–02.html-Bqxpyy7Q.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–03.html-gO_UPUq8.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–04.html-yvrRUBZ7.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–05.html-DEeZk-dO.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–06.html-C16LEJl0.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–01.html-LQTb__d1.js" as="script"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–03.html-C2VjUOVl.js" as="script"><link rel="prefetch" href="/assets/Elasticsearch01.html-C5NV6A09.js" as="script"><link rel="prefetch" href="/assets/Elasticsearch02.html-Ds1j1jLV.js" as="script"><link rel="prefetch" href="/assets/index.html-enlCmUF6.js" as="script"><link rel="prefetch" href="/assets/MQåŸºç¡€.html-Cz1pHA38.js" as="script"><link rel="prefetch" href="/assets/MQé«˜çº§.html-B_SPJjH1.js" as="script"><link rel="prefetch" href="/assets/index.html-CakG_U_w.js" as="script"><link rel="prefetch" href="/assets/MybatisPlus.html-CY1LFllM.js" as="script"><link rel="prefetch" href="/assets/index.html-UTRxv4vy.js" as="script"><link rel="prefetch" href="/assets/index.html-1T2UY66V.js" as="script"><link rel="prefetch" href="/assets/Redisé«˜çº§.html-DgsuDt-B.js" as="script"><link rel="prefetch" href="/assets/index.html-B-qlW1x_.js" as="script"><link rel="prefetch" href="/assets/å¾®æœåŠ¡01.html-BKqxAoZ5.js" as="script"><link rel="prefetch" href="/assets/å¾®æœåŠ¡02.html-aVkVH_bk.js" as="script"><link rel="prefetch" href="/assets/å¾®æœåŠ¡è¿›é˜¶.html-kGxY2Kvy.js" as="script"><link rel="prefetch" href="/assets/æœåŠ¡ä¿æŠ¤ã€åˆ†å¸ƒå¼äº‹åŠ¡.html-iyNMn7jR.js" as="script"><link rel="prefetch" href="/assets/index.html-WzSwKzvN.js" as="script"><link rel="prefetch" href="/assets/index.html-D8eY2aWq.js" as="script"><link rel="prefetch" href="/assets/Mavenè¿›é˜¶.html-D9If3BEO.js" as="script"><link rel="prefetch" href="/assets/index.html-DxN4ESyR.js" as="script"><link rel="prefetch" href="/assets/MyBatisPlusç¬”è®°.html-qNv1fDlQ.js" as="script"><link rel="prefetch" href="/assets/index.html-C0vcSDFx.js" as="script"><link rel="prefetch" href="/assets/index.html-FttYUNUH.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-5BwzlzrN.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ7eCU_n.js" as="script"><link rel="prefetch" href="/assets/SpringMVC01.html-C4fmlkf_.js" as="script"><link rel="prefetch" href="/assets/SpringMVC02.html-DvgjR7g7.js" as="script"><link rel="prefetch" href="/assets/index.html-DAXT1DS-.js" as="script"><link rel="prefetch" href="/assets/Spring01.html-BQlnSpME.js" as="script"><link rel="prefetch" href="/assets/Spring02.html-CM0DuUYW.js" as="script"><link rel="prefetch" href="/assets/Spring03.html-DysZtyHv.js" as="script"><link rel="prefetch" href="/assets/Nacosæ³¨å†Œä¸­å¿ƒ.html-BfiXa2p3.js" as="script"><link rel="prefetch" href="/assets/index.html-CM256DeI.js" as="script"><link rel="prefetch" href="/assets/SpringCloud01.html-D8MyB-Zj.js" as="script"><link rel="prefetch" href="/assets/SpringCloud02.html-NgrHcKUo.js" as="script"><link rel="prefetch" href="/assets/nacosé›†ç¾¤æ­å»º.html-C_n5cij2.js" as="script"><link rel="prefetch" href="/assets/index.html-BAlZRK1J.js" as="script"><link rel="prefetch" href="/assets/ç”¨æˆ·é‰´æƒ.html-CXmNmq6d.js" as="script"><link rel="prefetch" href="/assets/index.html-s4aewYzm.js" as="script"><link rel="prefetch" href="/assets/ç¬¬10ç«  APIRouter.html-B5wicTQV.js" as="script"><link rel="prefetch" href="/assets/ç¬¬11ç«  è¯·æ±‚å“åº”çš„è¿›é˜¶ç”¨æ³•.html-P3EGULQm.js" as="script"><link rel="prefetch" href="/assets/ç¬¬12ç«  å¼‚æ­¥async-await.html-C6oRmzfY.js" as="script"><link rel="prefetch" href="/assets/ç¬¬13ç«  WebSocket.html-C4D24x8W.js" as="script"><link rel="prefetch" href="/assets/ç¬¬14ç«  éƒ¨ç½².html-C6sE6z5M.js" as="script"><link rel="prefetch" href="/assets/ç¬¬15ç«  è¡¥å…….html-B7AniS5W.js" as="script"><link rel="prefetch" href="/assets/ç¬¬1ç«  å¿«é€Ÿä¸Šæ‰‹.html-BjAc02oM.js" as="script"><link rel="prefetch" href="/assets/ç¬¬2ç«  Pathå’ŒQuery.html-DkA1ldR_.js" as="script"><link rel="prefetch" href="/assets/ç¬¬3ç«  è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“.html-TZE-M-NB.js" as="script"><link rel="prefetch" href="/assets/ç¬¬4ç«  å“åº”å¤´å’Œå“åº”ä½“.html-BP2FzpUD.js" as="script"><link rel="prefetch" href="/assets/ç¬¬5ç«  é˜¶æ®µæ€»ç»“ç»ƒä¹ .html-BGS4Wl6X.js" as="script"><link rel="prefetch" href="/assets/ç¬¬6ç«  è¡¨å•å’Œä¸Šä¼ æ–‡ä»¶.html-CWszhjCL.js" as="script"><link rel="prefetch" href="/assets/ç¬¬7ç«  ä¾èµ–æ³¨å…¥.html-rYqVidea.js" as="script"><link rel="prefetch" href="/assets/ç¬¬8ç«  é›†æˆå…³ç³»å‹æ•°æ®åº“.html-CVS5Ofnt.js" as="script"><link rel="prefetch" href="/assets/ç¬¬9ç«  ç™»å½•è®¤è¯ç›¸å…³.html-XmMIIQ3f.js" as="script"><link rel="prefetch" href="/assets/01- pnpmä»‹ç».html-DnI-sur_.js" as="script"><link rel="prefetch" href="/assets/02-åˆå§‹åŒ–é¡¹ç›®.html--A-qG6bp.js" as="script"><link rel="prefetch" href="/assets/03-ä»£ç è§„èŒƒå·¥å…·.html-3MIxe0MM.js" as="script"><link rel="prefetch" href="/assets/04-é…ç½®husky.html-BPMsTEuq.js" as="script"><link rel="prefetch" href="/assets/05-é¡¹ç›®é…ç½®(ä¸Š).html-BpCWi5gN.js" as="script"><link rel="prefetch" href="/assets/06-é…ç½®é¡¹ç›®ä¸­unocss.html-CwcZ535y.js" as="script"><link rel="prefetch" href="/assets/07-é¡¹ç›®é…ç½®(ä¸‹).html-BlXPRWBW.js" as="script"><link rel="prefetch" href="/assets/08-è·¯ç”±é…ç½®.html-cgIeGGTc.js" as="script"><link rel="prefetch" href="/assets/09-piniaé…ç½®.html-BSrgqsxx.js" as="script"><link rel="prefetch" href="/assets/10-naive-uiå…¨å±€é…ç½®.html-iy_YWyFf.js" as="script"><link rel="prefetch" href="/assets/11-å¸ƒå±€å…¨å±€é…ç½®.html-DLEtfooM.js" as="script"><link rel="prefetch" href="/assets/12-åŸºç¡€å¸ƒå±€.html-BBFZm8e6.js" as="script"><link rel="prefetch" href="/assets/13-æ··åˆå¸ƒå±€å¼€å‘(ä¸Š).html-BHuShwkA.js" as="script"><link rel="prefetch" href="/assets/14-æ··åˆå¸ƒå±€å¼€å‘(ä¸­).html-BiLqythb.js" as="script"><link rel="prefetch" href="/assets/15-æ··åˆå¸ƒå±€å¼€å‘(ä¸‹).html-OInl5GAj.js" as="script"><link rel="prefetch" href="/assets/16-ä¾§è¾¹æ å¸ƒå±€.html-Bx2INY8f.js" as="script"><link rel="prefetch" href="/assets/17-å¸ƒå±€åŠŸèƒ½å®Œå–„.html-DFj0Bnsv.js" as="script"><link rel="prefetch" href="/assets/18-é¡¶éƒ¨é€šæ å¸ƒå±€.html-DwyAq4Yl.js" as="script"><link rel="prefetch" href="/assets/19-ç§»åŠ¨ç«¯æ¨¡å¼å¼€å‘.html-DPd9gFs4.js" as="script"><link rel="prefetch" href="/assets/20-ç§»åŠ¨ç«¯å¸ƒå±€å¼€å‘.html-C65BpMbE.js" as="script"><link rel="prefetch" href="/assets/21-å¸ƒå±€åˆ‡æ¢æŠ½å±‰å¼€å‘.html-QqZvjW82.js" as="script"><link rel="prefetch" href="/assets/22-å¸ƒå±€ç¼©ç•¥å›¾å¼€å‘.html-BhvWd5M2.js" as="script"><link rel="prefetch" href="/assets/23-å¸ƒå±€ç¼©ç•¥å›¾å³æˆ.html-Do-8v9KI.js" as="script"><link rel="prefetch" href="/assets/24-æ•´ä½“é£æ ¼é…ç½®å¼€å‘.html-DF33E8x3.js" as="script"><link rel="prefetch" href="/assets/25-æš—é»‘ä¸»é¢˜å¼€å‘.html-CdIlivw5.js" as="script"><link rel="prefetch" href="/assets/26-åŠ¨æ€åˆ‡æ¢æš—é»‘ä¸»é¢˜.html-CTdzEalT.js" as="script"><link rel="prefetch" href="/assets/27-æš—é»‘ä¸»é¢˜æ ·å¼ä¼˜åŒ–.html-PiaLpOqU.js" as="script"><link rel="prefetch" href="/assets/28-å®ç°å¤šä¸»é¢˜åˆ‡æ¢.html-ZNHhxgAM.js" as="script"><link rel="prefetch" href="/assets/29-å¤šè¯­è¨€é…ç½®.html-COQ8QQyB.js" as="script"><link rel="prefetch" href="/assets/30-å¸ƒå±€æ”¯æŒå¤šè¯­è¨€.html-BuLxkHMw.js" as="script"><link rel="prefetch" href="/assets/31-axioså°è£…(ä¸Š).html-C7b9hYij.js" as="script"><link rel="prefetch" href="/assets/32-axioså°è£…(ä¸‹).html-CFgX9Vp-.js" as="script"><link rel="prefetch" href="/assets/33-ç™»é™†é¡µé¢å¸ƒå±€å¼€å‘.html-CHLdvAJ9.js" as="script"><link rel="prefetch" href="/assets/34-ç”¨æˆ·å…±äº«çŠ¶æ€å°è£….html-BG74bwEw.js" as="script"><link rel="prefetch" href="/assets/35-è´¦å·ç™»é™†ä¸šåŠ¡é€»è¾‘å¼€å‘.html-yny-ptF2.js" as="script"><link rel="prefetch" href="/assets/36-æ‰‹æœºå·ç™»é™†ä¸šåŠ¡é€»è¾‘å¼€å‘.html-C0dwxlEI.js" as="script"><link rel="prefetch" href="/assets/37-è·¯ç”±æ‹¦æˆªå’Œç™½åå•.html-fsMhX5D1.js" as="script"><link rel="prefetch" href="/assets/38-å¸ƒå±€å¤šè¯­è¨€ç»„ä»¶å¼€å‘.html-EpzANfhP.js" as="script"><link rel="prefetch" href="/assets/39-å¸ƒå±€ç”¨æˆ·ä¿¡æ¯å¼€å‘.html-B_G1ut5m.js" as="script"><link rel="prefetch" href="/assets/40-å¸ƒå±€æ¶ˆæ¯é€šçŸ¥å¼€å‘.html-Cw0sAIB2.js" as="script"><link rel="prefetch" href="/assets/41-å¸ƒå±€æ¶ˆæ¯é€šçŸ¥å¼€å‘ ä½œä¸š.html-BVVweiFn.js" as="script"><link rel="prefetch" href="/assets/42-æ··åˆå¸ƒå±€èœå•å¼€å‘.html-DotVGJp7.js" as="script"><link rel="prefetch" href="/assets/43-åˆ’åˆ†é™æ€è·¯ç”±å’ŒåŠ¨æ€è·¯ç”±.html-BUYvFt8k.js" as="script"><link rel="prefetch" href="/assets/44-åŠ¨æ€è·¯ç”±åŸºç¡€é…ç½®.html-BdabYbGa.js" as="script"><link rel="prefetch" href="/assets/45-åç«¯åŠ¨æ€è·¯ç”±åŸºç¡€é…ç½®.html-iFv0zhO9.js" as="script"><link rel="prefetch" href="/assets/46-åŠ¨æ€ç”Ÿæˆä¾§è¾¹æ æ•°æ®.html-BTT-fk1z.js" as="script"><link rel="prefetch" href="/assets/47-ä¾§è¾¹æ è·¯ç”±è·³è½¬åŠŸèƒ½.html-BWNNcNz0.js" as="script"><link rel="prefetch" href="/assets/48-ä¾§è¾¹æ è·¯ç”±å›¾æ ‡.html-D8Gi7rkK.js" as="script"><link rel="prefetch" href="/assets/49-å®ç°ä¾§è¾¹æ å¤šè¯­è¨€.html-CsOosuBr.js" as="script"><link rel="prefetch" href="/assets/50-èœå•æ¿€æ´»åŠŸèƒ½.html-DwseOvMk.js" as="script"><link rel="prefetch" href="/assets/51-å¤šé¡µç­¾åŠŸèƒ½åˆ†æ.html-DqI5QKTD.js" as="script"><link rel="prefetch" href="/assets/52-å¤šé¡µç­¾åŠŸèƒ½æµ‹è¯•.html-BTA0UxzQ.js" as="script"><link rel="prefetch" href="/assets/53-å¤šé¡µç­¾è·¯ç”±åŠŸèƒ½è°ƒæ•´.html-xv0uuNhH.js" as="script"><link rel="prefetch" href="/assets/54-å¤šé¡µç­¾åŸºç¡€åŠŸèƒ½å®ç°.html-D41OEOEB.js" as="script"><link rel="prefetch" href="/assets/55-å¤šé¡µç­¾æ•°æ®çŠ¶æ€ç®¡ç†.html-CbcShOiO.js" as="script"><link rel="prefetch" href="/assets/56-å¤šé¡µç­¾è·¯ç”±æ•°æ®ç®¡ç†.html-DQdo1NZI.js" as="script"><link rel="prefetch" href="/assets/57-å¤šé¡µç­¾æ“ä½œåˆ—è¡¨åŠŸèƒ½å¼€å‘.html-C7SFngOB.js" as="script"><link rel="prefetch" href="/assets/58-å¤šé¡µç­¾å³é”®èœå•åŠŸèƒ½å¼€å‘.html-DY98Y6-u.js" as="script"><link rel="prefetch" href="/assets/59-å¤šé¡µç­¾åŠŸèƒ½å¼€å‘æ€»ç»“.html-_DDRXx9A.js" as="script"><link rel="prefetch" href="/assets/60-åç»­è¯·ç›´æ¥è§‚çœ‹è¯¾ç¨‹è§†é¢‘.html-RDR9vdBj.js" as="script"><link rel="prefetch" href="/assets/index.html-Bd2XLwvK.js" as="script"><link rel="prefetch" href="/assets/index.html-ByjKp6wP.js" as="script"><link rel="prefetch" href="/assets/disable.html-CGSCVocK.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-C5VysxVl.js" as="script"><link rel="prefetch" href="/assets/layout.html-D_-SjS2F.js" as="script"><link rel="prefetch" href="/assets/markdown.html-KJt8O7nL.js" as="script"><link rel="prefetch" href="/assets/markdownå­¦ä¹ .html-BRLXYUTJ.js" as="script"><link rel="prefetch" href="/assets/page.html-BtfKkuUo.js" as="script"><link rel="prefetch" href="/assets/404.html-BMvMLnWn.js" as="script"><link rel="prefetch" href="/assets/index.html-Bl4HzafB.js" as="script"><link rel="prefetch" href="/assets/index.html-DGHRyq32.js" as="script"><link rel="prefetch" href="/assets/index.html-BV1bq1ER.js" as="script"><link rel="prefetch" href="/assets/index.html-ByEvxYCp.js" as="script"><link rel="prefetch" href="/assets/index.html-CneeaqsH.js" as="script"><link rel="prefetch" href="/assets/index.html-BwsMJKfu.js" as="script"><link rel="prefetch" href="/assets/index.html-r5yjBQtT.js" as="script"><link rel="prefetch" href="/assets/index.html-NfXOr1ax.js" as="script"><link rel="prefetch" href="/assets/index.html-B2owj_wh.js" as="script"><link rel="prefetch" href="/assets/index.html-Cf4DYzo7.js" as="script"><link rel="prefetch" href="/assets/index.html-B900z-P9.js" as="script"><link rel="prefetch" href="/assets/index.html-HpIHD0bH.js" as="script"><link rel="prefetch" href="/assets/index.html-DL5HGkR7.js" as="script"><link rel="prefetch" href="/assets/index.html-D8UOn2OZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CIvfsbTi.js" as="script"><link rel="prefetch" href="/assets/index.html-DGdOL-hu.js" as="script"><link rel="prefetch" href="/assets/index.html-DN8OV24t.js" as="script"><link rel="prefetch" href="/assets/index.html-7pJmZTv1.js" as="script"><link rel="prefetch" href="/assets/index.html-B13oYD9e.js" as="script"><link rel="prefetch" href="/assets/index.html-DLTNE_S4.js" as="script"><link rel="prefetch" href="/assets/index.html-Sf6Ak1Hm.js" as="script"><link rel="prefetch" href="/assets/index.html-DEVzlpMc.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz4aK2yQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BKeP1dIA.js" as="script"><link rel="prefetch" href="/assets/index.html-WB4aHlw3.js" as="script"><link rel="prefetch" href="/assets/index.html-jXgd0bWy.js" as="script"><link rel="prefetch" href="/assets/index.html-CVMWAcOM.js" as="script"><link rel="prefetch" href="/assets/index.html-BebvoEcC.js" as="script"><link rel="prefetch" href="/assets/index.html-BDkjjLu_.js" as="script"><link rel="prefetch" href="/assets/index.html-DybVAx74.js" as="script"><link rel="prefetch" href="/assets/index.html-s0K_D7vF.js" as="script"><link rel="prefetch" href="/assets/index.html-Aa6GK_Ty.js" as="script"><link rel="prefetch" href="/assets/index.html-DgWAcx5c.js" as="script"><link rel="prefetch" href="/assets/index.html-CC1j-_Iq.js" as="script"><link rel="prefetch" href="/assets/index.html-BieHAzhF.js" as="script"><link rel="prefetch" href="/assets/index.html-Ce8-mnAm.js" as="script"><link rel="prefetch" href="/assets/index.html-C_44q8c7.js" as="script"><link rel="prefetch" href="/assets/index.html-BdBKh60A.js" as="script"><link rel="prefetch" href="/assets/index.html-BP7B2QCO.js" as="script"><link rel="prefetch" href="/assets/index.html-BoRP3iaE.js" as="script"><link rel="prefetch" href="/assets/index.html-CTDcUYlx.js" as="script"><link rel="prefetch" href="/assets/index.html-UuYKke8r.js" as="script"><link rel="prefetch" href="/assets/index.html-CvkrqiJU.js" as="script"><link rel="prefetch" href="/assets/index.html-CV6GoBP2.js" as="script"><link rel="prefetch" href="/assets/index.html-DZuIRzO4.js" as="script"><link rel="prefetch" href="/assets/index.html-BD0rpLkW.js" as="script"><link rel="prefetch" href="/assets/index.html-C64_0a_l.js" as="script"><link rel="prefetch" href="/assets/index.html-DPgbr8ck.js" as="script"><link rel="prefetch" href="/assets/index.html-DQO2BuCF.js" as="script"><link rel="prefetch" href="/assets/index.html-D29jS7y1.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo-custom.png" alt><!----><span class="vp-site-name hide-in-pad">Utopia</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="é¦–é¡µ"><!--[--><span class="font-icon icon iconfont icon-home" style=""></span><!--]-->é¦–é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/demo/" aria-label="æŠ€æœ¯"><!--[--><span class="font-icon icon iconfont icon-kexuejishu-" style=""></span><!--]-->æŠ€æœ¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/plans/" aria-label="è®¡åˆ’"><!--[--><span class="font-icon icon iconfont icon-plan" style=""></span><!--]-->è®¡åˆ’<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/others/" aria-label="ç¬”è®°"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç¬”è®°<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/links/" aria-label="å‹é“¾"><!--[--><span class="font-icon icon iconfont icon-wenjianjia" style=""></span><!--]-->å‹é“¾<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å‚è€ƒ"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span>å‚è€ƒ<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://www.cnblogs.com/feel-myself/" aria-label="åšå®¢å›­" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-blog" style=""></span><!--]-->åšå®¢å›­<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/zh/" aria-label="HOPEæ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span><!--]-->HOPEæ–‡æ¡£<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://cn.vitejs.dev/" aria-label="VITEå®˜æ–¹æ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span><!--]-->VITEå®˜æ–¹æ–‡æ¡£<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://cn.vuejs.org/" aria-label="VUEå®˜æ–¹æ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span><!--]-->VUEå®˜æ–¹æ–‡æ¡£<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://www.naiveui.com/zh-CN/os-theme" aria-label="Naive UIå®˜æ–¹æ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span><!--]-->Naive UIå®˜æ–¹æ–‡æ¡£<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/udo-bit/udo-bit.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon iconfont icon-houduankaifa" style=""></span><span class="vp-sidebar-title">åç«¯å¼€å‘</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-docker" style=""></span><span class="vp-sidebar-title">Docker</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-git2" style=""></span><span class="vp-sidebar-title">Git</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">JavaåŸºç¡€</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">JavaWebåŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">JavaåŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">Javaè¿›é˜¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-rabbit-mq" style=""></span><span class="vp-sidebar-title">RabbitMQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-redis" style=""></span><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">Webæ¡†æ¶åŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">äº¤å‹é¡¹ç›®å®æˆ˜</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">å…»è€é¡¹ç›®å®æˆ˜</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">å¤–å–é¡¹ç›®å®æˆ˜</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9601.html" aria-label="ç‘å‰å¤–å–01"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–01<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9602.html" aria-label="ç‘å‰å¤–å–02"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–02<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9603.html" aria-label="ç‘å‰å¤–å–03"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–03<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9604.html" aria-label="ç‘å‰å¤–å–04"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–04<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9605.html" aria-label="ç‘å‰å¤–å–05"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–05<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%9606.html" aria-label="ç‘å‰å¤–å–06"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–06<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9601.html" aria-label="ç‘å‰å¤–å–ä¼˜åŒ–07"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–ä¼˜åŒ–07<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9602.html" aria-label="ç‘å‰å¤–å–ä¼˜åŒ–08"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–ä¼˜åŒ–08<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9603.html" aria-label="ç‘å‰å¤–å–ä¼˜åŒ–09"><!--[--><span class="font-icon icon iconfont icon-code" style=""></span><!--]-->ç‘å‰å¤–å–ä¼˜åŒ–09<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-weifuwu" style=""></span><span class="vp-sidebar-title">å¾®æœåŠ¡åŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">Javaè¿›é˜¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-linux" style=""></span><span class="vp-sidebar-title">Linux</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon iconfont icon-python" style=""></span><span class="vp-sidebar-title">python</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-code" style=""></span>ç‘å‰å¤–å–ä¼˜åŒ–08</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.cnblogs.com/feel-myself" target="_blank" rel="noopener noreferrer">GXL</a></span><span property="author" content="GXL"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-09-05T15:41:59.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 25 min</span><meta property="timeRequired" content="PT25M"></span><span class="page-category-info" aria-label="CategoryğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8 clickable" role="navigation">Java</span><!--]--><meta property="articleSection" content="Java"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è¯¾ç¨‹å†…å®¹">è¯¾ç¨‹å†…å®¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‰è¨€">å‰è¨€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-mysqlä¸»ä»å¤åˆ¶">1. MySQLä¸»ä»å¤åˆ¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-1-ä»‹ç»">1.1 ä»‹ç»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-2-æ­å»º">1.2 æ­å»º</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-3-æµ‹è¯•">1.3 æµ‹è¯•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-è¯»å†™åˆ†ç¦»æ¡ˆä¾‹">2. è¯»å†™åˆ†ç¦»æ¡ˆä¾‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-èƒŒæ™¯ä»‹ç»">2.1 èƒŒæ™¯ä»‹ç»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-shardingjdbcä»‹ç»">2.2 ShardingJDBCä»‹ç»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-æ•°æ®åº“ç¯å¢ƒ">2.3 æ•°æ®åº“ç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-4-åˆå§‹å·¥ç¨‹å¯¼å…¥">2.4 åˆå§‹å·¥ç¨‹å¯¼å…¥</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-5-è¯»å†™åˆ†ç¦»é…ç½®">2.5 è¯»å†™åˆ†ç¦»é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-6-æµ‹è¯•">2.6 æµ‹è¯•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»">3. é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-1-æ•°æ®åº“ç¯å¢ƒå‡†å¤‡">3.1 æ•°æ®åº“ç¯å¢ƒå‡†å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-2-åˆ›å»ºgitåˆ†æ”¯">3.2 åˆ›å»ºGitåˆ†æ”¯</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-3-è¯»å†™åˆ†ç¦»é…ç½®">3.3 è¯»å†™åˆ†ç¦»é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-4-åŠŸèƒ½æµ‹è¯•">3.4 åŠŸèƒ½æµ‹è¯•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-5-gitåˆå¹¶ä»£ç ">3.5 Gitåˆå¹¶ä»£ç </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-nginx-æ¦‚è¿°">4. Nginx-æ¦‚è¿°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-1-ä»‹ç»">4.1 ä»‹ç»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-2-ä¸‹è½½å’Œå®‰è£…">4.2 ä¸‹è½½å’Œå®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-3-ç›®å½•ç»“æ„">4.3 ç›®å½•ç»“æ„</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-nginx-å‘½ä»¤">5. Nginx-å‘½ä»¤</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-1-å¸¸ç”¨å‘½ä»¤">5.1 å¸¸ç”¨å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-2-ç¯å¢ƒå˜é‡é…ç½®">5.2 ç¯å¢ƒå˜é‡é…ç½®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-nginx-åº”ç”¨">6. Nginx-åº”ç”¨</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-1-é…ç½®æ–‡ä»¶ç»“æ„">6.1 é…ç½®æ–‡ä»¶ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-2-éƒ¨ç½²é™æ€èµ„æº">6.2 éƒ¨ç½²é™æ€èµ„æº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-3-åå‘ä»£ç†">6.3 åå‘ä»£ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-4-è´Ÿè½½å‡è¡¡">6.4 è´Ÿè½½å‡è¡¡</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–-day02" tabindex="-1"><a class="header-anchor" href="#ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–-day02"><span>ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–-Day02</span></a></h1><h2 id="è¯¾ç¨‹å†…å®¹" tabindex="-1"><a class="header-anchor" href="#è¯¾ç¨‹å†…å®¹"><span>è¯¾ç¨‹å†…å®¹</span></a></h2><ul><li>MySQLä¸»ä»å¤åˆ¶</li><li>è¯»å†™åˆ†ç¦»æ¡ˆä¾‹</li><li>é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</li><li>Nginx-æ¦‚è¿°</li><li>Nginx-å‘½ä»¤</li><li>Nginx-åº”ç”¨</li></ul><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€"><span>å‰è¨€</span></a></h2><blockquote><p>1). å­˜åœ¨çš„é—®é¢˜</p></blockquote><p>åœ¨å‰é¢åŸºç¡€åŠŸèƒ½å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åå°ç®¡ç†ç³»ç»ŸåŠç§»åŠ¨ç«¯çš„ç”¨æˆ·ï¼Œåœ¨è¿›è¡Œæ•°æ®è®¿é—®æ—¶ï¼Œéƒ½æ˜¯ç›´æ¥æ“ä½œæ•°æ®åº“MySQLçš„ã€‚ç»“æ„å¦‚ä¸‹å›¾ï¼š</p><img src="/assets/image-20210825100741985-y3PIln5n.png" alt="image-20210825100741985" style="zoom:80%;"><p>è€Œåœ¨å½“å‰ï¼ŒMySQLæœåŠ¡å™¨åªæœ‰ä¸€å°ï¼Œé‚£ä¹ˆå°±å¯èƒ½ä¼šå­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š</p><p>1). è¯»å’Œå†™æ‰€æœ‰å‹åŠ›éƒ½ç”±ä¸€å°æ•°æ®åº“æ‰¿æ‹…ï¼Œå‹åŠ›å¤§</p><p>2). æ•°æ®åº“æœåŠ¡å™¨ç£ç›˜æŸååˆ™æ•°æ®ä¸¢å¤±ï¼Œå•ç‚¹æ•…éšœ</p><blockquote><p>2). è§£å†³æ–¹æ¡ˆ</p></blockquote><p>ä¸ºäº†è§£å†³ä¸Šè¿°æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å‡†å¤‡ä¸¤å°MySQLï¼Œä¸€å°ä¸»(Master)æœåŠ¡å™¨ï¼Œä¸€å°ä»(Slave) æœåŠ¡å™¨ï¼Œä¸»åº“çš„æ•°æ®å˜æ›´ï¼Œéœ€è¦åŒæ­¥åˆ°ä»åº“ä¸­(ä¸»ä»å¤åˆ¶)ã€‚è€Œç”¨æˆ·åœ¨è®¿é—®æˆ‘ä»¬é¡¹ç›®æ—¶ï¼Œå¦‚æœæ˜¯å†™æ“ä½œ(insertã€updateã€delete) ï¼Œåˆ™ç›´æ¥æ“ä½œä¸»åº“ï¼›å¦‚æœæ˜¯è¯»(select)æ“ä½œï¼Œåˆ™ç›´æ¥æ“ä½œä»åº“(åœ¨è¿™ç§è¯»å†™åˆ†ç¦»çš„ç»“æ„ä¸­ï¼Œä»åº“æ˜¯å¯ä»¥æœ‰å¤šä¸ªçš„)ï¼Œè¿™ç§ç»“æ„æˆ‘ä»¬ç§°ä¸º è¯»å†™åˆ†ç¦» ã€‚</p><img src="/assets/image-20210825101438683-cvIOBJ2X.png" alt="image-20210825101438683" style="zoom:80%;"><p>ä»Šå¤©æˆ‘ä»¬å°±éœ€è¦å®ç°ä¸Šè¿°çš„æ¶æ„ï¼Œæ¥è§£å†³ä¸šåŠ¡å¼€å‘ä¸­æ‰€å­˜åœ¨çš„é—®é¢˜ã€‚</p><h2 id="_1-mysqlä¸»ä»å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-mysqlä¸»ä»å¤åˆ¶"><span>1. MySQLä¸»ä»å¤åˆ¶</span></a></h2><p>MySQLæ•°æ®åº“é»˜è®¤æ˜¯æ”¯æŒä¸»ä»å¤åˆ¶çš„ï¼Œä¸éœ€è¦å€ŸåŠ©äºå…¶ä»–çš„æŠ€æœ¯ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ•°æ®åº“ä¸­ç®€å•çš„é…ç½®å³å¯ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä»ä»¥ä¸‹çš„å‡ ä¸ªæ–¹é¢ï¼Œæ¥ä»‹ç»ä¸€ä¸‹ä¸»ä»å¤åˆ¶ï¼š</p><h3 id="_1-1-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»‹ç»"><span>1.1 ä»‹ç»</span></a></h3><p>MySQLä¸»ä»å¤åˆ¶æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„å¤åˆ¶è¿‡ç¨‹ï¼Œåº•å±‚æ˜¯åŸºäºMysqlæ•°æ®åº“è‡ªå¸¦çš„ <strong>äºŒè¿›åˆ¶æ—¥å¿—</strong> åŠŸèƒ½ã€‚å°±æ˜¯ä¸€å°æˆ–å¤šå°MySQLæ•°æ®åº“ï¼ˆslaveï¼Œå³<strong>ä»åº“ <strong>ï¼‰ä»å¦ä¸€å°MySQLæ•°æ®åº“ï¼ˆmasterï¼Œå³</strong>ä¸»åº“</strong>ï¼‰è¿›è¡Œæ—¥å¿—çš„å¤åˆ¶ï¼Œç„¶åå†è§£ææ—¥å¿—å¹¶åº”ç”¨åˆ°è‡ªèº«ï¼Œæœ€ç»ˆå®ç° <strong>ä»åº“</strong> çš„æ•°æ®å’Œ <strong>ä¸»åº“</strong> çš„æ•°æ®ä¿æŒä¸€è‡´ã€‚MySQLä¸»ä»å¤åˆ¶æ˜¯MySQLæ•°æ®åº“è‡ªå¸¦åŠŸèƒ½ï¼Œæ— éœ€å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ã€‚</p><blockquote><p><strong>äºŒè¿›åˆ¶æ—¥å¿—ï¼š</strong></p><p>â€‹ äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBINLOGï¼‰è®°å½•äº†æ‰€æœ‰çš„ DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰è¯­å¥å’Œ DMLï¼ˆæ•°æ®æ“çºµè¯­è¨€ï¼‰è¯­å¥ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬æ•°æ®æŸ¥è¯¢è¯­å¥ã€‚æ­¤æ—¥å¿—å¯¹äºç¾éš¾æ—¶çš„æ•°æ®æ¢å¤èµ·ç€æå…¶é‡è¦çš„ä½œç”¨ï¼ŒMySQLçš„ä¸»ä»å¤åˆ¶ï¼Œ å°±æ˜¯é€šè¿‡è¯¥binlogå®ç°çš„ã€‚é»˜è®¤MySQLæ˜¯æœªå¼€å¯è¯¥æ—¥å¿—çš„ã€‚</p></blockquote><p><strong>MySQLçš„ä¸»ä»å¤åˆ¶åŸç†å¦‚ä¸‹ï¼š</strong></p><figure><img src="/assets/image-20210825110417975-oFeOEq2s.png" alt="image-20210825110417975" tabindex="0" loading="lazy"><figcaption>image-20210825110417975</figcaption></figure><p><strong>MySQLå¤åˆ¶è¿‡ç¨‹åˆ†æˆä¸‰æ­¥ï¼š</strong></p><p>1). MySQL master å°†æ•°æ®å˜æ›´å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—( binary log)</p><p>2). slaveå°†masterçš„binary logæ‹·è´åˆ°å®ƒçš„ä¸­ç»§æ—¥å¿—ï¼ˆrelay logï¼‰</p><p>3). slaveé‡åšä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå°†æ•°æ®å˜æ›´åæ˜ å®ƒè‡ªå·±çš„æ•°æ®</p><h3 id="_1-2-æ­å»º" tabindex="-1"><a class="header-anchor" href="#_1-2-æ­å»º"><span>1.2 æ­å»º</span></a></h3><h4 id="_1-2-1-å‡†å¤‡å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#_1-2-1-å‡†å¤‡å·¥ä½œ"><span>1.2.1 å‡†å¤‡å·¥ä½œ</span></a></h4><p>æå‰å‡†å¤‡ä¸¤å°æœåŠ¡å™¨ï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨ä¸­å®‰è£…MySQLï¼ŒæœåŠ¡å™¨çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ•°æ®åº“</th><th>IP</th><th>æ•°æ®åº“ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>Master</td><td>192.168.200.200</td><td>5.7.25</td></tr><tr><td>Slave</td><td>192.168.200.201</td><td>5.7.25</td></tr></tbody></table><p><strong>å¹¶åœ¨ä¸¤å°æœåŠ¡å™¨ä¸Šåšå¦‚ä¸‹å‡†å¤‡å·¥ä½œ:</strong></p><p>1). é˜²ç«å¢™å¼€æ”¾3306ç«¯å£å·</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>firewall-cmd --zone=public --add-port=3306/tcp --permanent</span></span>
<span class="line"><span></span></span>
<span class="line"><span>firewall-cmd --zone=public --list-ports</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825124800430-y7Zm4kyy.png" alt="image-20210825124800430" tabindex="0" loading="lazy"><figcaption>image-20210825124800430</figcaption></figure><p>2). å¹¶å°†ä¸¤å°æ•°æ®åº“æœåŠ¡å™¨å¯åŠ¨èµ·æ¥ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl start mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç™»å½•MySQLï¼ŒéªŒè¯æ˜¯å¦æ­£å¸¸å¯åŠ¨</p><figure><img src="/assets/image-20210825111414157-B947hwn-.png" alt="image-20210825111414157" tabindex="0" loading="lazy"><figcaption>image-20210825111414157</figcaption></figure><h4 id="_1-2-2-ä¸»åº“é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-2-2-ä¸»åº“é…ç½®"><span>1.2.2 ä¸»åº“é…ç½®</span></a></h4><blockquote><p>æœåŠ¡å™¨ï¼š 192.168.200.200</p></blockquote><p><strong>1). ä¿®æ”¹Mysqlæ•°æ®åº“çš„é…ç½®æ–‡ä»¶/etc/my.cnf</strong></p><p>åœ¨æœ€ä¸‹é¢å¢åŠ é…ç½®:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>log-bin=mysql-bin   #[å¿…é¡»]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—</span></span>
<span class="line"><span>server-id=200       #[å¿…é¡»]æœåŠ¡å™¨å”¯ä¸€ID(å”¯ä¸€å³å¯)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825115719668-yKupkgRJ.png" alt="image-20210825115719668" tabindex="0" loading="lazy"><figcaption>image-20210825115719668</figcaption></figure><p><strong>2). é‡å¯MysqlæœåŠ¡</strong></p><p>æ‰§è¡ŒæŒ‡ä»¤ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> systemctl restart mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825115853116-BpJlvXWp.png" alt="image-20210825115853116" tabindex="0" loading="lazy"><figcaption>image-20210825115853116</figcaption></figure><p><strong>3). åˆ›å»ºæ•°æ®åŒæ­¥çš„ç”¨æˆ·å¹¶æˆæƒ</strong></p><p>ç™»å½•mysqlï¼Œå¹¶æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼Œåˆ›å»ºç”¨æˆ·å¹¶æˆæƒï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;xiaoming&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> identified </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Root@123456&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><mark>æ³¨ï¼šä¸Šé¢SQLçš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ· xiaoming ï¼Œå¯†ç ä¸º Root@123456 ï¼Œå¹¶ä¸”ç»™xiaomingç”¨æˆ·æˆäºˆREPLICATION SLAVEæƒé™ã€‚å¸¸ç”¨äºå»ºç«‹å¤åˆ¶æ—¶æ‰€éœ€è¦ç”¨åˆ°çš„ç”¨æˆ·æƒé™ï¼Œä¹Ÿå°±æ˜¯slaveå¿…é¡»è¢«masteræˆæƒå…·æœ‰è¯¥æƒé™çš„ç”¨æˆ·ï¼Œæ‰èƒ½é€šè¿‡è¯¥ç”¨æˆ·å¤åˆ¶ã€‚</mark></p><blockquote><p>MySQLå¯†ç å¤æ‚ç¨‹åº¦è¯´æ˜:</p><p>â€‹ <img src="/assets/image-20210825144818269-DfZ0cLv1.png" alt="image-20210825144818269" loading="lazy"></p><p>â€‹ ç›®å‰mysql5.7é»˜è®¤å¯†ç æ ¡éªŒç­–ç•¥ç­‰çº§ä¸º MEDIUM , è¯¥ç­‰çº§è¦æ±‚å¯†ç ç»„æˆä¸º: æ•°å­—ã€å°å†™å­—æ¯ã€å¤§å†™å­—æ¯ ã€ç‰¹æ®Šå­—ç¬¦ã€é•¿åº¦è‡³å°‘8ä½</p></blockquote><p><strong>4). ç™»å½•Mysqlæ•°æ®åº“ï¼ŒæŸ¥çœ‹masteråŒæ­¥çŠ¶æ€</strong></p><p>æ‰§è¡Œä¸‹é¢SQLï¼Œè®°å½•ä¸‹ç»“æœä¸­<strong>File</strong>å’Œ<strong>Position</strong>çš„å€¼</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>show master status;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825120355600-DPfyOgzP.png" alt="image-20210825120355600" tabindex="0" loading="lazy"><figcaption>image-20210825120355600</figcaption></figure><p><mark>æ³¨ï¼šä¸Šé¢SQLçš„ä½œç”¨æ˜¯æŸ¥çœ‹Masterçš„çŠ¶æ€ï¼Œæ‰§è¡Œå®Œæ­¤SQLåä¸è¦å†æ‰§è¡Œä»»ä½•æ“ä½œ</mark></p><h4 id="_1-2-3-ä»åº“é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-2-3-ä»åº“é…ç½®"><span>1.2.3 ä»åº“é…ç½®</span></a></h4><blockquote><p>æœåŠ¡å™¨ï¼š 192.168.200.201</p></blockquote><p><strong>1). ä¿®æ”¹Mysqlæ•°æ®åº“çš„é…ç½®æ–‡ä»¶/etc/my.cnf</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>server-id=201 	#[å¿…é¡»]æœåŠ¡å™¨å”¯ä¸€ID</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825125156597-Ca3JLmt9.png" alt="image-20210825125156597" tabindex="0" loading="lazy"><figcaption>image-20210825125156597</figcaption></figure><p><strong>2). é‡å¯MysqlæœåŠ¡</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl restart mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>3). ç™»å½•Mysqlæ•°æ®åº“ï¼Œè®¾ç½®ä¸»åº“åœ°å€åŠåŒæ­¥ä½ç½®</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>change master to master_host=&#39;192.168.200.200&#39;,master_user=&#39;xiaoming&#39;,master_password=&#39;Root@123456&#39;,master_log_file=&#39;mysql-bin.000001&#39;,master_log_pos=154;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>start slave;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å‚æ•°è¯´æ˜ï¼š</p><p>â€‹ A. master_host : ä¸»åº“çš„IPåœ°å€</p><p>â€‹ B. master_user : è®¿é—®ä¸»åº“è¿›è¡Œä¸»ä»å¤åˆ¶çš„ç”¨æˆ·å(ä¸Šé¢åœ¨ä¸»åº“åˆ›å»ºçš„)</p><p>â€‹ C. master_password : è®¿é—®ä¸»åº“è¿›è¡Œä¸»ä»å¤åˆ¶çš„ç”¨æˆ·åå¯¹åº”çš„å¯†ç </p><p>â€‹ D. master_log_file : ä»å“ªä¸ªæ—¥å¿—æ–‡ä»¶å¼€å§‹åŒæ­¥(ä¸Šè¿°æŸ¥è¯¢masterçŠ¶æ€ä¸­å±•ç¤ºçš„æœ‰)</p><p>â€‹ E. master_log_pos : ä»æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„å“ªä¸ªä½ç½®å¼€å§‹åŒæ­¥(ä¸Šè¿°æŸ¥è¯¢masterçŠ¶æ€ä¸­å±•ç¤ºçš„æœ‰)</p></blockquote><p><strong>4). æŸ¥çœ‹ä»æ•°æ®åº“çš„çŠ¶æ€</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>show slave status;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç„¶åé€šè¿‡çŠ¶æ€ä¿¡æ¯ä¸­çš„ Slave_IO_running å’Œ Slave_SQL_running å¯ä»¥çœ‹å‡ºä¸»ä»åŒæ­¥æ˜¯å¦å°±ç»ªï¼Œå¦‚æœè¿™ä¸¤ä¸ªå‚æ•°å…¨ä¸ºYesï¼Œè¡¨ç¤ºä¸»ä»åŒæ­¥å·²ç»é…ç½®å®Œæˆã€‚</p><figure><img src="/assets/image-20210825142313382-mxlijdV2.png" alt="image-20210825142313382" tabindex="0" loading="lazy"><figcaption>image-20210825142313382</figcaption></figure><blockquote><p>MySQLå‘½ä»¤è¡ŒæŠ€å·§ï¼š</p><p>â€‹ \G : åœ¨MySQLçš„sqlè¯­å¥ååŠ ä¸Š\Gï¼Œè¡¨ç¤ºå°†æŸ¥è¯¢ç»“æœè¿›è¡ŒæŒ‰åˆ—æ‰“å°ï¼Œå¯ä»¥ä½¿æ¯ä¸ªå­—æ®µæ‰“å°åˆ°å•ç‹¬çš„è¡Œã€‚å³å°†æŸ¥åˆ°çš„ç»“æ„æ—‹è½¬90åº¦å˜æˆçºµå‘ï¼›</p></blockquote><h3 id="_1-3-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_1-3-æµ‹è¯•"><span>1.3 æµ‹è¯•</span></a></h3><p>ä¸»ä»å¤åˆ¶çš„ç¯å¢ƒ,å·²ç»æ­å»ºå¥½äº†,æ¥ä¸‹æ¥,æˆ‘ä»¬å¯ä»¥é€šè¿‡Navicatè¿æ¥ä¸Šä¸¤å°MySQLæœåŠ¡å™¨,è¿›è¡Œæµ‹è¯•ã€‚æµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¸»åº“Masteræ‰§è¡Œæ“ä½œï¼ŒæŸ¥çœ‹ä»åº“Slaveä¸­æ˜¯å¦å°†æ•°æ®åŒæ­¥è¿‡å»å³å¯ã€‚</p><p>1). åœ¨masterä¸­åˆ›å»ºæ•°æ®åº“itcast, åˆ·æ–°slaveæŸ¥çœ‹æ˜¯å¦å¯ä»¥åŒæ­¥è¿‡å»</p><figure><img src="/assets/image-20210825143518383-CTanmzkq.png" alt="image-20210825143518383" tabindex="0" loading="lazy"><figcaption>image-20210825143518383</figcaption></figure><p>2). åœ¨masterçš„itcastæ•°æ®ä¸‹åˆ›å»ºuserè¡¨, åˆ·æ–°slaveæŸ¥çœ‹æ˜¯å¦å¯ä»¥åŒæ­¥è¿‡å»</p><figure><img src="/assets/image-20210825143549689-QUSFkPHB.png" alt="image-20210825143549689" tabindex="0" loading="lazy"><figcaption>image-20210825143549689</figcaption></figure><p>3). åœ¨masterçš„userè¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®, åˆ·æ–°slaveæŸ¥çœ‹æ˜¯å¦å¯ä»¥åŒæ­¥è¿‡å»</p><figure><img src="/assets/image-20210825143658516-ClgRAuTT.png" alt="image-20210825143658516" tabindex="0" loading="lazy"><figcaption>image-20210825143658516</figcaption></figure><h2 id="_2-è¯»å†™åˆ†ç¦»æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-è¯»å†™åˆ†ç¦»æ¡ˆä¾‹"><span>2. è¯»å†™åˆ†ç¦»æ¡ˆä¾‹</span></a></h2><h3 id="_2-1-èƒŒæ™¯ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-1-èƒŒæ™¯ä»‹ç»"><span>2.1 èƒŒæ™¯ä»‹ç»</span></a></h3><p>é¢å¯¹æ—¥ç›Šå¢åŠ çš„ç³»ç»Ÿè®¿é—®é‡ï¼Œæ•°æ®åº“çš„ååé‡é¢ä¸´ç€å·¨å¤§ç“¶é¢ˆã€‚ å¯¹äºåŒä¸€æ—¶åˆ»æœ‰å¤§é‡å¹¶å‘è¯»æ“ä½œå’Œè¾ƒå°‘å†™æ“ä½œç±»å‹çš„åº”ç”¨ç³»ç»Ÿæ¥è¯´ï¼Œå°†æ•°æ®åº“æ‹†åˆ†ä¸º <strong>ä¸»åº“</strong>å’Œ<strong>ä»åº“</strong>ï¼Œä¸»åº“è´Ÿè´£å¤„ç†äº‹åŠ¡æ€§çš„å¢åˆ æ”¹æ“ä½œï¼Œä»åº“è´Ÿè´£å¤„ç†æŸ¥è¯¢æ“ä½œï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…ç”±æ•°æ®æ›´æ–°å¯¼è‡´çš„è¡Œé”ï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿçš„æŸ¥è¯¢æ€§èƒ½å¾—åˆ°æå¤§çš„æ”¹å–„ã€‚</p><figure><img src="/assets/image-20210825145647274-C7sVDF1U.png" alt="image-20210825145647274" tabindex="0" loading="lazy"><figcaption>image-20210825145647274</figcaption></figure><p>é€šè¿‡è¯»å†™åˆ†ç¦»,å°±å¯ä»¥é™ä½å•å°æ•°æ®åº“çš„è®¿é—®å‹åŠ›, æé«˜è®¿é—®æ•ˆç‡ï¼Œä¹Ÿå¯ä»¥é¿å…å•æœºæ•…éšœã€‚</p><p>ä¸»ä»å¤åˆ¶çš„ç»“æ„ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€èŠ‚å·²ç»å®Œæˆäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ï¼Œå¦‚ä½•é€šè¿‡javaä»£ç æ¥å®Œæˆè¯»å†™åˆ†ç¦»å‘¢ï¼Œå¦‚ä½•åœ¨æ‰§è¡Œselectçš„æ—¶å€™æŸ¥è¯¢ä»åº“ï¼Œè€Œåœ¨æ‰§è¡Œinsertã€updateã€deleteçš„æ—¶å€™ï¼Œæ“ä½œä¸»åº“å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ä»‹ç»ä¸€ä¸ªæ–°çš„æŠ€æœ¯ ShardingJDBCã€‚</p><h3 id="_2-2-shardingjdbcä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-2-shardingjdbcä»‹ç»"><span>2.2 ShardingJDBCä»‹ç»</span></a></h3><p>Sharding-JDBCå®šä½ä¸ºè½»é‡çº§Javaæ¡†æ¶ï¼Œåœ¨Javaçš„JDBCå±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚ å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥jaråŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„JDBCé©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹JDBCå’Œå„ç§ORMæ¡†æ¶ã€‚</p><p>ä½¿ç”¨Sharding-JDBCå¯ä»¥åœ¨ç¨‹åºä¸­è½»æ¾çš„å®ç°æ•°æ®åº“è¯»å†™åˆ†ç¦»ã€‚</p><p>Sharding-JDBCå…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p><p>1). é€‚ç”¨äºä»»ä½•åŸºäºJDBCçš„ORMæ¡†æ¶ï¼Œå¦‚ï¼šJPA, Hibernate, Mybatis, Spring JDBC Templateæˆ–ç›´æ¥ä½¿ç”¨JDBCã€‚</p><p>2). æ”¯æŒä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCP, C3P0, BoneCP, Druid, HikariCPç­‰ã€‚</p><p>3). æ”¯æŒä»»æ„å®ç°JDBCè§„èŒƒçš„æ•°æ®åº“ã€‚ç›®å‰æ”¯æŒMySQLï¼ŒOracleï¼ŒSQLServerï¼ŒPostgreSQLä»¥åŠä»»ä½•éµå¾ªSQL92æ ‡å‡†çš„æ•°æ®åº“ã€‚</p><p>ä¾èµ–:</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.apache.shardingsphere&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;sharding-jdbc-spring-boot-starter&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;4.0.0-RC1&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-æ•°æ®åº“ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_2-3-æ•°æ®åº“ç¯å¢ƒ"><span>2.3 æ•°æ®åº“ç¯å¢ƒ</span></a></h3><p>åœ¨ä¸»åº“ä¸­åˆ›å»ºä¸€ä¸ªæ•°æ®åº“rw, å¹¶ä¸”åˆ›å»ºä¸€å¼ è¡¨ï¼Œ è¯¥æ•°æ®åº“åŠè¡¨ç»“æ„åˆ›å»ºå®Œæ¯•åä¼šè‡ªåŠ¨åŒæ­¥è‡³ä»æ•°æ®åº“ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> database</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> charset utf8mb4;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> rw;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">` (</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `name`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `age`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `address`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CHARSET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">utf8mb4;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/assets/image-20210825160658477-CVj0iLpN.png" alt="image-20210825160658477" tabindex="0" loading="lazy"><figcaption>image-20210825160658477</figcaption></figure><h3 id="_2-4-åˆå§‹å·¥ç¨‹å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_2-4-åˆå§‹å·¥ç¨‹å¯¼å…¥"><span>2.4 åˆå§‹å·¥ç¨‹å¯¼å…¥</span></a></h3><p>æˆ‘ä»¬æœ¬æ¡ˆä¾‹ä¸»è¦æ˜¯æ¼”ç¤ºä¸€ä¸‹è¯»å†™åˆ†ç¦»æ“ä½œï¼Œå¯¹äºåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥çš„ä¸šåŠ¡æ“ä½œï¼Œæˆ‘ä»¬å°±ä¸å†å»ç¼–å†™äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¼å…¥èµ„æ–™ä¸­æä¾›çš„demoå·¥ç¨‹ï¼ˆrw_demoï¼‰ï¼Œåœ¨demoå·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†userçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œå…·ä½“çš„å·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š</p><figure><img src="/assets/image-20210825161155163-CEZ9mHFO.png" alt="image-20210825161155163" tabindex="0" loading="lazy"><figcaption>image-20210825161155163</figcaption></figure><h3 id="_2-5-è¯»å†™åˆ†ç¦»é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-5-è¯»å†™åˆ†ç¦»é…ç½®"><span>2.5 è¯»å†™åˆ†ç¦»é…ç½®</span></a></h3><p>1). åœ¨pom.xmlä¸­å¢åŠ shardingJdbcçš„mavenåæ ‡</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.apache.shardingsphere&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;sharding-jdbc-spring-boot-starter&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;4.0.0-RC1&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2). åœ¨application.ymlä¸­å¢åŠ æ•°æ®æºçš„é…ç½®</p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  shardingsphere</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    datasource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      names</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        master,slave</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä¸»æ•°æ®æº</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.alibaba.druid.pool.DruidDataSource</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jdbc:mysql://192.168.200.200:3306/rw?characterEncoding=utf-8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä»æ•°æ®æº</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      slave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.alibaba.druid.pool.DruidDataSource</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jdbc:mysql://192.168.200.201:3306/rw?characterEncoding=utf-8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    masterslave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # è¯»å†™åˆ†ç¦»é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      load-balance-algorithm-type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">round_robin</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> #è½®è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # æœ€ç»ˆçš„æ•°æ®æºåç§°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dataSource</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä¸»åº“æ•°æ®æºåç§°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      master-data-source-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">master</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      slave-data-source-names</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">slave</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> #å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®è§£æ:</p><figure><img src="/assets/image-20210825162910711-DPcQmhbY.png" alt="image-20210825162910711" tabindex="0" loading="lazy"><figcaption>image-20210825162910711</figcaption></figure><p>3). åœ¨application.ymlä¸­å¢åŠ é…ç½®</p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    allow-bean-definition-overriding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥é…ç½®é¡¹çš„ç›®çš„,å°±æ˜¯å¦‚æœå½“å‰é¡¹ç›®ä¸­å­˜åœ¨åŒåçš„bean,åå®šä¹‰çš„beanä¼šè¦†ç›–å…ˆå®šä¹‰çš„ã€‚</p><p><mark>å¦‚æœä¸é…ç½®è¯¥é¡¹ï¼Œé¡¹ç›®å¯åŠ¨ä¹‹åå°†ä¼šæŠ¥é”™ï¼š</mark></p><figure><img src="/assets/image-20210825163737687-Cq88YmqZ.png" alt="image-20210825163737687" tabindex="0" loading="lazy"><figcaption>image-20210825163737687</figcaption></figure><p>æŠ¥é”™ä¿¡æ¯è¡¨æ˜ï¼Œåœ¨å£°æ˜ org.apache.shardingsphere.shardingjdbc.spring.boot åŒ…ä¸‹çš„SpringBootConfigurationä¸­çš„dataSourceè¿™ä¸ªbeanæ—¶å‡ºé”™, åŸå› æ˜¯æœ‰ä¸€ä¸ªåŒåçš„ dataSource çš„beanåœ¨com.alibaba.druid.spring.boot.autoconfigureåŒ…ä¸‹çš„DruidDataSourceAutoConfigureç±»åŠ è½½æ—¶å·²ç»å£°æ˜äº†ã€‚</p><figure><img src="/assets/image-20210825164147056-BctQhOyH.png" alt="image-20210825164147056" tabindex="0" loading="lazy"><figcaption>image-20210825164147056</figcaption></figure><figure><img src="/assets/image-20210825164227927-DV-98K2H.png" alt="image-20210825164227927" tabindex="0" loading="lazy"><figcaption>image-20210825164227927</figcaption></figure><p>è€Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯ shardingjdbcåŒ…ä¸‹çš„dataSourceï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®ä¸Šè¿°å±æ€§ï¼Œè®©ååŠ è½½çš„è¦†ç›–å…ˆåŠ è½½çš„ã€‚</p><h3 id="_2-6-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_2-6-æµ‹è¯•"><span>2.6 æµ‹è¯•</span></a></h3><p>æˆ‘ä»¬ä½¿ç”¨shardingjdbcæ¥å®ç°è¯»å†™åˆ†ç¦»ï¼Œç›´æ¥é€šè¿‡ä¸Šè¿°ç®€å•çš„é…ç½®å°±å¯ä»¥äº†ã€‚é…ç½®å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡å¯æœåŠ¡ï¼Œé€šè¿‡postmanæ¥è®¿é—®controllerçš„æ–¹æ³•ï¼Œæ¥å®Œæˆç”¨æˆ·ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡debugåŠæ—¥å¿—çš„æ–¹å¼æ¥æŸ¥çœ‹æ¯ä¸€æ¬¡æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Œä½¿ç”¨çš„æ˜¯å“ªä¸ªæ•°æ®æºï¼Œè¿æ¥çš„æ˜¯å“ªä¸ªæ•°æ®åº“ã€‚</p><p><strong>1). ä¿å­˜æ•°æ®</strong></p><figure><img src="/assets/image-20210825170601641-DETi-w-J.png" alt="image-20210825170601641" tabindex="0" loading="lazy"><figcaption>image-20210825170601641</figcaption></figure><p>æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æ“ä½œmasterä¸»åº“ï¼š</p><figure><img src="/assets/image-20210825172748209-BAdPcrb0.png" alt="image-20210825172748209" tabindex="0" loading="lazy"><figcaption>image-20210825172748209</figcaption></figure><p><strong>2). ä¿®æ”¹æ•°æ®</strong></p><figure><img src="/assets/image-20210825171507059-DuIT_ggE.png" alt="image-20210825171507059" tabindex="0" loading="lazy"><figcaption>image-20210825171507059</figcaption></figure><p>æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æ“ä½œmasterä¸»åº“ï¼š</p><figure><img src="/assets/image-20210825172534790-CEYCoY_Z.png" alt="image-20210825172534790" tabindex="0" loading="lazy"><figcaption>image-20210825172534790</figcaption></figure><p><strong>3). æŸ¥è¯¢æ•°æ®</strong></p><figure><img src="/assets/image-20210825171609997-DUzpV8D5.png" alt="image-20210825171609997" tabindex="0" loading="lazy"><figcaption>image-20210825171609997</figcaption></figure><p>æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æ“ä½œslaveä¸»åº“ï¼š</p><figure><img src="/assets/image-20210825171623011-CvqCJ4kD.png" alt="image-20210825171623011" tabindex="0" loading="lazy"><figcaption>image-20210825171623011</figcaption></figure><p><strong>4). åˆ é™¤æ•°æ®</strong></p><figure><img src="/assets/image-20210825172329600-D86T2FXJ.png" alt="image-20210825172329600" tabindex="0" loading="lazy"><figcaption>image-20210825172329600</figcaption></figure><p>æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°æ“ä½œmasterä¸»åº“ï¼š</p><figure><img src="/assets/image-20210825172353414-DUp4djiL.png" alt="image-20210825172353414" tabindex="0" loading="lazy"><figcaption>image-20210825172353414</figcaption></figure><h2 id="_3-é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#_3-é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»"><span>3. é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</span></a></h2><h3 id="_3-1-æ•°æ®åº“ç¯å¢ƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_3-1-æ•°æ®åº“ç¯å¢ƒå‡†å¤‡"><span>3.1 æ•°æ®åº“ç¯å¢ƒå‡†å¤‡</span></a></h3><p>ç›´æ¥ä½¿ç”¨æˆ‘ä»¬å‰é¢åœ¨è™šæ‹Ÿæœºä¸­æ­å»ºçš„ä¸»ä»å¤åˆ¶çš„æ•°æ®åº“ç¯å¢ƒå³å¯ã€‚åœ¨ä¸»åº“ä¸­åˆ›å»ºç‘å‰å¤–å–é¡¹ç›®çš„ä¸šåŠ¡æ•°æ®åº“reggie, å¹¶å¯¼å…¥ç›¸å…³è¡¨ç»“æ„å’Œæ•°æ®(æˆ‘ä»¬å¯ä»¥å°†è‡ªå·±ä¹‹å‰åœ¨æœ¬åœ°å¼€å‘æ—¶ä½¿ç”¨çš„æ•°æ®åº“æ•°æ®å¯¼å‡º, ç„¶åå¯¼å…¥åˆ°æœåŠ¡å™¨ä¸­çš„ä¸»åº“å³å¯)ã€‚</p><p><strong>1). å°†è‡ªå·±æœ¬åœ°çš„reggieæ•°æ®åº“çš„æ•°æ®å¯¼å‡ºSQLæ–‡ä»¶</strong></p><figure><img src="/assets/image-20210825175039571-BIp8w_Am.png" alt="image-20210825175039571" tabindex="0" loading="lazy"><figcaption>image-20210825175039571</figcaption></figure><p>è¿™æ ·åšçš„è¯ï¼Œæˆ‘ä»¬ä¹‹å‰è‡ªå·±å¼€å‘æ—¶ï¼Œæ·»åŠ çš„æµ‹è¯•æ•°æ®éƒ½è¿˜åœ¨çš„ï¼Œä¾¿äºæµ‹è¯•ã€‚</p><p><strong>2). åœ¨ä¸»æ•°æ®åº“masterä¸­ï¼Œåˆ›å»ºæ•°æ®åº“reggieï¼Œå¹¶å¯¼å…¥è¯¥SQLæ–‡ä»¶</strong></p><p>masterä¸­åˆ›å»ºæ•°æ®åº“ï¼Œä¼šè‡ªåŠ¨åŒæ­¥è‡³slaveä»åº“</p><figure><img src="/assets/image-20210825175416295-BAER36TC.png" alt="image-20210825175416295" tabindex="0" loading="lazy"><figcaption>image-20210825175416295</figcaption></figure><p>åœ¨masterçš„reggieä¸­å¯¼å…¥sqlæ–‡ä»¶</p><figure><img src="/assets/image-20210825175747138-rtPJKzUe.png" alt="image-20210825175747138" tabindex="0" loading="lazy"><figcaption>image-20210825175747138</figcaption></figure><h3 id="_3-2-åˆ›å»ºgitåˆ†æ”¯" tabindex="-1"><a class="header-anchor" href="#_3-2-åˆ›å»ºgitåˆ†æ”¯"><span>3.2 åˆ›å»ºGitåˆ†æ”¯</span></a></h3><p>ç›®å‰é»˜è®¤gitä¸­æœ‰ä¸¤ä¸ªåˆ†æ”¯master å’Œ v1.0 ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¿›è¡Œè¯»å†™åˆ†ç¦»çš„ä¼˜åŒ–ï¼Œå°±ä¸åœ¨masterå’Œv1.0åˆ†æ”¯æ¥æ“ä½œäº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨gitä¸Šåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„åˆ†æ”¯v1.1ï¼Œè¯»å†™åˆ†ç¦»çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å°±åœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œæ“ä½œã€‚å…·ä½“åˆ›å»ºåˆ†æ”¯çš„æ“ä½œï¼Œå’Œå‰é¢æ¼”ç¤ºçš„ä¸€è‡´ã€‚</p><p>å½“å‰åˆ›å»ºçš„v1.1åˆ†æ”¯ï¼Œæ˜¯åŸºäºmasteråˆ†æ”¯åˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥ç›®å‰masteråˆ†æ”¯çš„ä»£ç ï¼Œ å’Œv1.1åˆ†æ”¯çš„ä»£ç æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ¥ä¸‹æ¥æŠŠv1.1çš„ä»£ç ä¹Ÿæ¨é€è‡³è¿œç¨‹ä»“åº“ã€‚</p><h3 id="_3-3-è¯»å†™åˆ†ç¦»é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-3-è¯»å†™åˆ†ç¦»é…ç½®"><span>3.3 è¯»å†™åˆ†ç¦»é…ç½®</span></a></h3><p><strong>1). åœ¨é¡¹ç›®çš„pom.xmlå¢åŠ ä¾èµ–</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.apache.shardingsphere&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;sharding-jdbc-spring-boot-starter&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;4.0.0-RC1&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2). åœ¨é¡¹ç›®çš„application.ymlä¸­é…ç½®æ•°æ®æºç›¸å…³ä¿¡æ¯</strong></p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  shardingsphere</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    datasource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      names</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        master,slave</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä¸»æ•°æ®æº</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.alibaba.druid.pool.DruidDataSource</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jdbc:mysql://192.168.200.200:3306/reggie?characterEncoding=utf-8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä»æ•°æ®æº</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      slave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.alibaba.druid.pool.DruidDataSource</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jdbc:mysql://192.168.200.201:3306/reggie?characterEncoding=utf-8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    masterslave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # è¯»å†™åˆ†ç¦»é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      load-balance-algorithm-type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">round_robin</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> #è½®è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # æœ€ç»ˆçš„æ•°æ®æºåç§°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dataSource</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä¸»åº“æ•°æ®æºåç§°</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      master-data-source-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">master</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      slave-data-source-names</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">slave</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> #å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    allow-bean-definition-overriding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-åŠŸèƒ½æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_3-4-åŠŸèƒ½æµ‹è¯•"><span>3.4 åŠŸèƒ½æµ‹è¯•</span></a></h3><p>é…ç½®å®Œæ¯•ä¹‹åï¼Œæˆ‘ä»¬å¯åŠ¨é¡¹ç›®è¿›è¡Œæµ‹è¯•ï¼Œç›´æ¥è®¿é—®ç³»ç»Ÿç®¡ç†åå°çš„é¡µé¢ï¼Œç„¶åæ‰§è¡Œç›¸å…³ä¸šåŠ¡æ“ä½œï¼Œçœ‹æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯å³å¯ã€‚</p><p>æŸ¥è¯¢æ“ä½œï¼š</p><figure><img src="/assets/image-20210825181207319-D5_OqDMi.png" alt="image-20210825181207319" tabindex="0" loading="lazy"><figcaption>image-20210825181207319</figcaption></figure><p>æ›´æ–°æ“ä½œï¼š</p><img src="/assets/image-20210825181524065-CWJpYDtD.png" alt="image-20210825181524065" style="zoom:80%;"><p>æ’å…¥æ“ä½œï¼š</p><img src="/assets/image-20210825181915511-DmUyKQrE.png" alt="image-20210825181915511" style="zoom:80%;"><p>åˆ é™¤æ“ä½œï¼š</p><img src="/assets/image-20210825182259837-BCW6j6F6.png" alt="image-20210825182259837" style="zoom:80%;"><h3 id="_3-5-gitåˆå¹¶ä»£ç " tabindex="-1"><a class="header-anchor" href="#_3-5-gitåˆå¹¶ä»£ç "><span>3.5 Gitåˆå¹¶ä»£ç </span></a></h3><p>è¯»å†™åˆ†ç¦»çš„åŠŸèƒ½æˆ‘ä»¬å·²ç»å®ç°å®Œæ¯•äº†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å½“å‰åˆ†æ”¯v1.1ä»£ç æäº¤å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚</p><img src="/assets/image-20210825183830252-0u6fcXQt.png" alt="image-20210825183830252" style="zoom:80%;"><figure><img src="/assets/image-20210825183900307-8QZ4Io5S.png" alt="image-20210825183900307" tabindex="0" loading="lazy"><figcaption>image-20210825183900307</figcaption></figure><p>ç„¶åï¼Œå†å°†v1.1çš„ä»£ç ï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼Œç„¶åæ¨é€è‡³è¿œç¨‹ä»“åº“ã€‚</p><figure><img src="/assets/image-20210825184018801-CxWs2Saj.png" alt="image-20210825184018801" tabindex="0" loading="lazy"><figcaption>image-20210825184018801</figcaption></figure><h2 id="_4-nginx-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_4-nginx-æ¦‚è¿°"><span>4. Nginx-æ¦‚è¿°</span></a></h2><h3 id="_4-1-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_4-1-ä»‹ç»"><span>4.1 ä»‹ç»</span></a></h3><figure><img src="/assets/image-20210829234142590-Cgj6Jm3_.png" alt="image-20210829234142590" tabindex="0" loading="lazy"><figcaption>image-20210829234142590</figcaption></figure><p>Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„WebæœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨nginxçš„ç½‘ç«™æœ‰ï¼šç™¾åº¦ã€äº¬ä¸œã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ã€æ·˜å®ç­‰ã€‚</p><p>Nginxæ˜¯ç”±<strong>ä¼Šæˆˆå°”Â·èµ›ç´¢è€¶å¤«</strong>ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„Rambler.ruç«™ç‚¹ï¼ˆä¿„æ–‡ï¼šĞ Ğ°Ğ¼Ğ±Ğ»ĞµÑ€ï¼‰å¼€å‘çš„ï¼Œç¬¬ä¸€ä¸ªå…¬å¼€ç‰ˆæœ¬0.1.0å‘å¸ƒäº2004å¹´10æœˆ4æ—¥ã€‚</p><p>å®˜ç½‘ï¼šhttps://nginx.org/</p><h3 id="_4-2-ä¸‹è½½å’Œå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_4-2-ä¸‹è½½å’Œå®‰è£…"><span>4.2 ä¸‹è½½å’Œå®‰è£…</span></a></h3><h4 id="_4-2-1-ä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#_4-2-1-ä¸‹è½½"><span>4.2.1 ä¸‹è½½</span></a></h4><p>åœ¨Nginxçš„å®˜ç½‘çš„ä¸‹è½½é¡µé¢ä¸­(http://nginx.org/en/download.html)ï¼Œå°±å±•ç¤ºäº†å½“å‰Nginxç‰ˆæœ¬ï¼Œå¹¶æä¾›äº†ä¸‹è½½çš„è¿æ¥ã€‚ å¦‚ä¸‹ï¼š</p><img src="/assets/image-20210829234623737-CrebHwtp.png" alt="image-20210829234623737" style="zoom:80%;"><p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ‰€å­¦ä¹ çš„Nginxé€‰æ‹©çš„æ˜¯ç¨³å®šç‰ˆæœ¬çš„1.16è¿™ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½ï¼Œå½“ç„¶åœ¨æˆ‘ä»¬çš„è¯¾ç¨‹èµ„æ–™ä¸­ä¹Ÿå·²ç»æä¾›äº†è¯¥ç‰ˆæœ¬çš„å®‰è£…åŒ…ã€‚</p><figure><img src="data:image/png;base64,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" alt="image-20210829235301014" tabindex="0" loading="lazy"><figcaption>image-20210829235301014</figcaption></figure><h4 id="_4-2-2-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_4-2-2-å®‰è£…"><span>4.2.2 å®‰è£…</span></a></h4><p><strong>1). å®‰è£…ä¾èµ–åŒ…</strong></p><p>ç”±äºnginxæ˜¯åŸºäºcè¯­è¨€å¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…cè¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒï¼ŒåŠæ­£åˆ™è¡¨è¾¾å¼åº“ç­‰ç¬¬ä¸‰æ–¹ä¾èµ–åº“ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>yum -y install gcc pcre-devel zlib-devel openssl openssl-devel</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>2). ä¸‹è½½Nginxå®‰è£…åŒ…</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>yum install wget</span></span>
<span class="line"><span>wget https://nginx.org/download/nginx-1.16.1.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>wget :</p><p>â€‹</p></blockquote><p>wgetå‘½ä»¤ç”¨æ¥ä»æŒ‡å®šçš„URLä¸‹è½½æ–‡ä»¶ã€‚wgetéå¸¸ç¨³å®šï¼Œå®ƒåœ¨å¸¦å®½å¾ˆçª„çš„æƒ…å†µä¸‹å’Œä¸ç¨³å®šç½‘ç»œä¸­æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§ï¼Œå¦‚æœæ˜¯ç”±äºç½‘ç»œçš„åŸå› ä¸‹è½½å¤±è´¥ï¼Œwgetä¼šä¸æ–­çš„å°è¯•ï¼Œç›´åˆ°æ•´ä¸ªæ–‡ä»¶ä¸‹è½½å®Œæ¯•ã€‚å¦‚æœæ˜¯æœåŠ¡å™¨æ‰“æ–­ä¸‹è½½è¿‡ç¨‹ï¼Œå®ƒä¼šå†æ¬¡è”åˆ°æœåŠ¡å™¨ä¸Šä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚</p><p>æ‰§è¡Œå®ŒwgetæŒ‡ä»¤åï¼Œå°±ä¼šåœ¨å½“å‰æ‰€åœ¨ç›®å½•çœ‹åˆ°ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶ã€‚</p><p><strong>3). è§£å‹nginxå‹ç¼©åŒ…</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tar -zxvf nginx-1.16.1.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>4). é…ç½®Nginxç¼–è¯‘ç¯å¢ƒ</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd nginx-1.16.1</span></span>
<span class="line"><span>./configure --prefix=/usr/local/nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯´æ˜:</p><p>â€‹ --prefix æŒ‡å®šçš„ç›®å½•ï¼Œå°±æ˜¯æˆ‘ä»¬å®‰è£…Nginxçš„ç›®å½•ã€‚</p><p><strong>5). ç¼–è¯‘&amp;å®‰è£…</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>make &amp; make install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4-3-ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_4-3-ç›®å½•ç»“æ„"><span>4.3 ç›®å½•ç»“æ„</span></a></h3><p>å®‰è£…å®ŒNginxåï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°Nginxçš„å®‰è£…ç›®å½•(/usr/local/nginx)ï¼Œå…ˆæ¥ç†Ÿæ‚‰ä¸€ä¸‹Nginxçš„ç›®å½•ç»“æ„ï¼Œå¦‚ä¸‹å›¾ï¼š</p><img src="/assets/image-20210830000933352-BxFLqBnS.png" alt="image-20210830000933352" style="zoom:90%;"><blockquote><p>å¤‡æ³¨ï¼š</p><p>â€‹ ä¸Šè¿°æˆ‘ä»¬ç”¨åˆ°çš„ä¸€ä¸ªæŒ‡ä»¤ treeï¼Œè¯¥æŒ‡ä»¤å¯ä»¥å°†æˆ‘ä»¬æŒ‡å®šçš„ç›®å½•ä»¥æ ‘çŠ¶ç»“æ„å±•ç¤ºå‡ºæ¥ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è¿›è¡Œå®‰è£…ã€‚</p><p>â€‹ yum install tree</p></blockquote><p>é‡ç‚¹ç›®å½•å’Œæ–‡ä»¶å¦‚ä¸‹:</p><table><thead><tr><th>ç›®å½•/æ–‡ä»¶</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>conf</td><td>é…ç½®æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</td><td></td></tr><tr><td>conf/nginx.conf</td><td>Nginxçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</td><td>confä¸‹æœ‰å¾ˆå¤šnginxçš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸»è¦æ“ä½œè¿™ä¸ªæ ¸å¿ƒé…ç½®æ–‡ä»¶</td></tr><tr><td>html</td><td>å­˜æ”¾é™æ€èµ„æº(html, css, )</td><td>éƒ¨ç½²åˆ°Nginxçš„é™æ€èµ„æºéƒ½å¯ä»¥æ”¾åœ¨htmlç›®å½•ä¸­</td></tr><tr><td>logs</td><td>å­˜æ”¾nginxæ—¥å¿—(è®¿é—®æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ç­‰)</td><td></td></tr><tr><td>sbin/nginx</td><td>äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç”¨äºå¯åŠ¨ã€åœæ­¢NginxæœåŠ¡</td><td></td></tr></tbody></table><h2 id="_5-nginx-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_5-nginx-å‘½ä»¤"><span>5. Nginx-å‘½ä»¤</span></a></h2><h3 id="_5-1-å¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_5-1-å¸¸ç”¨å‘½ä»¤"><span>5.1 å¸¸ç”¨å‘½ä»¤</span></a></h3><p>Nginxä¸­ï¼Œæˆ‘ä»¬çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶(nginx)å­˜æ”¾åœ¨sbinç›®å½•ä¸‹ï¼Œè™½ç„¶åªæœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥æŒ‡ä»¤é…åˆä¸åŒçš„å‚æ•°è¾¾åˆ°æ›´åŠ å¼ºå¤§çš„åŠŸèƒ½ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¼”ç¤ºä¸€ä¸‹Nginxå¸¸è§æŒ‡ä»¤, åœ¨æ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤æ—¶,éƒ½éœ€è¦åœ¨/usr/local/nginx/sbin/ç›®å½•ä¸‹æ‰§è¡Œã€‚</p><p><strong>1). æŸ¥çœ‹ç‰ˆæœ¬</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./nginx -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210830223435585-BMX2jaL2.png" alt="image-20210830223435585" tabindex="0" loading="lazy"><figcaption>image-20210830223435585</figcaption></figure><p><strong>2). æ£€æŸ¥é…ç½®æ–‡ä»¶</strong></p><p>ä¿®æ”¹äº†nginx.confæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¹‹åï¼Œåœ¨å¯åŠ¨NginxæœåŠ¡ä¹‹å‰ï¼Œå¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹conf/nginx.confæ–‡ä»¶é…ç½®çš„æ˜¯å¦æœ‰é”™è¯¯ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./nginx -t</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210830223511878-CSsXMQO3.png" alt="image-20210830223511878" tabindex="0" loading="lazy"><figcaption>image-20210830223511878</figcaption></figure><p><strong>3). å¯åŠ¨</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ps -efæŒ‡ä»¤æ¥æŸ¥çœ‹nginxçš„è¿›ç¨‹æ˜¯å¦å­˜åœ¨ã€‚</p><figure><img src="/assets/image-20210830224019661-Dr9AIy3S.png" alt="image-20210830224019661" tabindex="0" loading="lazy"><figcaption>image-20210830224019661</figcaption></figure><p>æ³¨æ„ï¼š nginxæœåŠ¡å¯åŠ¨åï¼Œé»˜è®¤å°±ä¼šæœ‰ä¸¤ä¸ªè¿›ç¨‹ã€‚</p><p>å¯åŠ¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®Nginxçš„80ç«¯å£ï¼Œ http://192.168.200.200</p><img src="/assets/image-20210830224605952-DMrKw5l6.png" alt="image-20210830224605952" style="zoom:80%;"><blockquote><p>æ³¨æ„ï¼š</p><p>â€‹ è¦æƒ³æ­£å¸¸è®¿é—®Nginxï¼Œéœ€è¦å…³é—­é˜²ç«å¢™æˆ–å¼€æ”¾æŒ‡å®šç«¯å£å·ï¼Œæ‰§è¡Œçš„æŒ‡ä»¤å¦‚ä¸‹ï¼š</p><p>â€‹ A. å…³é—­é˜²ç«å¢™</p><p>â€‹ systemctl stop firewalld</p><p>â€‹ B. å¼€æ”¾80ç«¯å£</p><p>â€‹ firewall-cmd --zone=public --add-port=80/tcp --permanent</p><p>â€‹ firewall-cmd --reload</p></blockquote><p><strong>4). åœæ­¢</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./nginx -s stop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœæ­¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹nginxçš„è¿›ç¨‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ps -ef|grep nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210830224121489-C5F96Ray.png" alt="image-20210830224121489" tabindex="0" loading="lazy"><figcaption>image-20210830224121489</figcaption></figure><p><strong>5). é‡æ–°åŠ è½½</strong></p><p>å½“ä¿®æ”¹äº†Nginxé…ç½®æ–‡ä»¶åï¼Œéœ€è¦é‡æ–°åŠ è½½æ‰èƒ½ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./nginx -s reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-2-ç¯å¢ƒå˜é‡é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-2-ç¯å¢ƒå˜é‡é…ç½®"><span>5.2 ç¯å¢ƒå˜é‡é…ç½®</span></a></h3><p>åœ¨ä¸Šè¿°æˆ‘ä»¬åœ¨ä½¿ç”¨nginxå‘½ä»¤åœ¨è¿›è¡ŒæœåŠ¡çš„å¯åŠ¨ã€åœæ­¢ã€é‡æ–°åŠ è½½æ—¶ï¼Œéƒ½éœ€è¦ç”¨åˆ°ä¸€ä¸ªæŒ‡ä»¤nginxï¼Œè€Œè¿™ä¸ªæŒ‡ä»¤æ˜¯åœ¨nginx/sbinç›®å½•ä¸‹çš„ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤éƒ½éœ€è¦åˆ‡æ¢åˆ°sbinç›®å½•æ‰å¯ä»¥ï¼Œä½¿ç”¨ç›¸å¯¹ç¹çã€‚é‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½åœ¨ä»»æ„ç›®å½•ä¸‹éƒ½å¯ä»¥æ‰§è¡Œè¯¥æŒ‡ä»¤æ¥æ“ä½œnginxå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œé…ç½®nginxçš„ç¯å¢ƒå˜é‡å³å¯ã€‚</p><p>é€šè¿‡vimç¼–è¾‘å™¨ï¼Œæ‰“å¼€/etc/profileæ–‡ä»¶, åœ¨PATHç¯å¢ƒå˜é‡ä¸­å¢åŠ nginxçš„sbinç›®å½•ï¼Œå¦‚ä¸‹ï¼š</p><figure><img src="/assets/image-20210830225544343-ChKMTETG.png" alt="image-20210830225544343" tabindex="0" loading="lazy"><figcaption>image-20210830225544343</figcaption></figure><p>ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶ä¹‹åï¼Œéœ€è¦æ‰§è¡Œ source /etc/profile ä½¿æ–‡ä»¶ç”Ÿæ•ˆã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œnginxçš„æŒ‡ä»¤äº†ï¼Œå¦‚ï¼š</p><figure><img src="/assets/image-20210830225702899-D-0o9GB8.png" alt="image-20210830225702899" tabindex="0" loading="lazy"><figcaption>image-20210830225702899</figcaption></figure><h2 id="_6-nginx-åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-nginx-åº”ç”¨"><span>6. Nginx-åº”ç”¨</span></a></h2><p>ä»‹ç»äº†å¹¶å®‰è£…äº†Nginxä¹‹åï¼Œæœ¬ç« èŠ‚å°†è¦è®²è§£çš„æ˜¯Nginxçš„ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¸»è¦ä»ä»¥ä¸‹å››ä¸ªæ–¹é¢è¿›è¡Œè®²è§£ã€‚</p><h3 id="_6-1-é…ç½®æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_6-1-é…ç½®æ–‡ä»¶ç»“æ„"><span>6.1 é…ç½®æ–‡ä»¶ç»“æ„</span></a></h3><p>nginxçš„é…ç½®æ–‡ä»¶(conf/nginx.conf)æ•´ä½“ä¸Šåˆ†ä¸ºä¸‰éƒ¨åˆ†: å…¨å±€å—ã€eventså—ã€httpå—ã€‚è¿™ä¸‰å—çš„åˆ†åˆ«é…ç½®ä»€ä¹ˆæ ·çš„ä¿¡æ¯å‘¢ï¼Œçœ‹ä¸‹è¡¨ï¼š</p><table><thead><tr><th>åŒºåŸŸ</th><th>èŒè´£</th></tr></thead><tbody><tr><td>å…¨å±€å—</td><td>é…ç½®å’Œnginxè¿è¡Œç›¸å…³çš„å…¨å±€é…ç½®</td></tr><tr><td>eventså—</td><td>é…ç½®å’Œç½‘ç»œè¿æ¥ç›¸å…³çš„é…ç½®</td></tr><tr><td>httpå—</td><td>é…ç½®ä»£ç†ã€ç¼“å­˜ã€æ—¥å¿—è®°å½•ã€è™šæ‹Ÿä¸»æœºç­‰é…ç½®</td></tr></tbody></table><p>å…·ä½“ç»“æ„å›¾å¦‚ä¸‹:</p><img src="/assets/image-20210830230827686-CloaN_Fw.png" alt="image-20210830230827686" style="zoom:80%;"><blockquote><p>åœ¨å…¨å±€å—ã€eventså—ä»¥åŠhttpå—ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é…ç½®çš„æ˜¯httpå—ã€‚</p><p>åœ¨httpå—ä¸­å¯ä»¥åŒ…å«å¤šä¸ªserverå—,æ¯ä¸ªserverå—å¯ä»¥é…ç½®å¤šä¸ªlocationå—ã€‚</p></blockquote><h3 id="_6-2-éƒ¨ç½²é™æ€èµ„æº" tabindex="-1"><a class="header-anchor" href="#_6-2-éƒ¨ç½²é™æ€èµ„æº"><span>6.2 éƒ¨ç½²é™æ€èµ„æº</span></a></h3><h4 id="_6-2-1-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_6-2-1-ä»‹ç»"><span>6.2.1 ä»‹ç»</span></a></h4><p>Nginxå¯ä»¥ä½œä¸ºé™æ€webæœåŠ¡å™¨æ¥éƒ¨ç½²é™æ€èµ„æºã€‚è¿™é‡Œæ‰€è¯´çš„é™æ€èµ„æºæ˜¯æŒ‡åœ¨æœåŠ¡ç«¯çœŸå®å­˜åœ¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿç›´æ¥å±•ç¤ºçš„ä¸€äº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¸¸è§çš„htmlé¡µé¢ã€cssæ–‡ä»¶ã€jsæ–‡ä»¶ã€å›¾ç‰‡ã€è§†é¢‘ç­‰èµ„æºã€‚</p><p>ç›¸å¯¹äºTomcatï¼ŒNginxå¤„ç†é™æ€èµ„æºçš„èƒ½åŠ›æ›´åŠ é«˜æ•ˆï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¸€èˆ¬éƒ½ä¼šå°†é™æ€èµ„æºéƒ¨ç½²åˆ°Nginxä¸­ã€‚</p><p>å°†é™æ€èµ„æºéƒ¨ç½²åˆ°Nginxéå¸¸ç®€å•ï¼Œåªéœ€è¦å°†æ–‡ä»¶å¤åˆ¶åˆ°Nginxå®‰è£…ç›®å½•ä¸‹çš„htmlç›®å½•ä¸­å³å¯ã€‚</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">server {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    listen 80</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;				#ç›‘å¬ç«¯å£	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server_name localhost</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;	#æœåŠ¡å™¨åç§°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    location / {			</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#åŒ¹é…å®¢æˆ·ç«¯è¯·æ±‚url</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        root html</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;			#æŒ‡å®šé™æ€èµ„æºæ ¹ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        index index.html</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;	#æŒ‡å®šé»˜è®¤é¦–é¡µ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-2-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_6-2-2-æµ‹è¯•"><span>6.2.2 æµ‹è¯•</span></a></h4><p>åœ¨èµ„æ–™ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé™æ€çš„htmlæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªæ–‡ä»¶éƒ¨ç½²åˆ°nginxä¸­ï¼Œç„¶åé€šè¿‡nginxè®¿é—®htmlé™æ€èµ„æºã€‚</p><p><strong>1). å°†é™æ€èµ„æºä¸Šä¼ åˆ° /usr/local/nginx/html ç›®å½•</strong></p><figure><img src="/assets/image-20210830232238402-COq5qy9s.png" alt="image-20210830232238402" tabindex="0" loading="lazy"><figcaption>image-20210830232238402</figcaption></figure><p><strong>2). å¯åŠ¨nginx</strong></p><figure><img src="/assets/image-20210830232419462-I1hzgAIi.png" alt="image-20210830232419462" tabindex="0" loading="lazy"><figcaption>image-20210830232419462</figcaption></figure><p><strong>3). è®¿é—®</strong></p><p>http://192.168.200.200/hello.html</p><img src="/assets/image-20210830232529524-CqU5kD5H.png" alt="image-20210830232529524" style="zoom:80%;"><p>http://192.168.200.200 ï¼Œ è®¿é—®è¯¥åœ°å€ï¼Œè®¿é—®çš„æ˜¯nginxçš„é»˜è®¤é¦–é¡µ</p><img src="/assets/image-20210830232857289-7IupkIG5.png" alt="image-20210830232857289" style="zoom:81%;"><p><strong>4). é…ç½®é¦–é¡µ</strong></p><figure><img src="/assets/image-20210830232720821-D2t3kZpI.png" alt="image-20210830232720821" tabindex="0" loading="lazy"><figcaption>image-20210830232720821</figcaption></figure><p>å¦‚æœæˆ‘ä»¬éœ€è¦å°†hello.htmlä½œä¸ºnginxçš„é¦–é¡µï¼Œå¯ä»¥ä¿®æ”¹locationçš„indexæŒ‡ä»¤ï¼Œé…ç½®ä¸ºhello.htmlï¼Œå¦‚ä¸‹ï¼š</p><figure><img src="/assets/image-20210830233019489-BjJ1HRej.png" alt="image-20210830233019489" tabindex="0" loading="lazy"><figcaption>image-20210830233019489</figcaption></figure><p>é…ç½®å®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡ä»¤ï¼Œæ¥æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦é…ç½®æ­£ç¡®ï¼š nginx -t</p><figure><img src="/assets/image-20210830233122708-D_iCMN75.png" alt="image-20210830233122708" tabindex="0" loading="lazy"><figcaption>image-20210830233122708</figcaption></figure><p>é…ç½®æ–‡ä»¶ä¿®æ”¹äº†ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°åŠ è½½ä¸€ä¸‹ï¼Œæ‰å¯ä»¥ç”Ÿæ•ˆï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nginx -s reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>5). è®¿é—®</strong></p><p>http://192.168.200.200</p><img src="/assets/image-20210830233336916-C4IcOF5G.png" alt="image-20210830233336916" style="zoom:80%;"><h3 id="_6-3-åå‘ä»£ç†" tabindex="-1"><a class="header-anchor" href="#_6-3-åå‘ä»£ç†"><span>6.3 åå‘ä»£ç†</span></a></h3><h4 id="_6-3-1-æ¦‚å¿µä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_6-3-1-æ¦‚å¿µä»‹ç»"><span>6.3.1 æ¦‚å¿µä»‹ç»</span></a></h4><p>1). æ­£å‘ä»£ç†</p><p>æ­£å‘ä»£ç†æœåŠ¡å™¨æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server) ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>æ­£å‘ä»£ç†çš„å…¸å‹ç”¨é€”æ˜¯ä¸ºåœ¨é˜²ç«å¢™å†…çš„å±€åŸŸç½‘å®¢æˆ·ç«¯æä¾›è®¿é—®Internetçš„é€”å¾„ã€‚</p><p>æ­£å‘ä»£ç†ä¸€èˆ¬æ˜¯<strong>åœ¨å®¢æˆ·ç«¯è®¾ç½®ä»£ç†æœåŠ¡å™¨</strong>ï¼Œé€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚ï¼Œæœ€ç»ˆè®¿é—®åˆ°ç›®æ ‡æœåŠ¡å™¨ã€‚</p><figure><img src="/assets/image-20210830233450415-DbPZ2_6c.png" alt="image-20210830233450415" tabindex="0" loading="lazy"><figcaption>image-20210830233450415</figcaption></figure><p>2). åå‘ä»£ç†</p><p>åå‘ä»£ç†æœåŠ¡å™¨ä½äºç”¨æˆ·ä¸ç›®æ ‡æœåŠ¡å™¨ä¹‹é—´ï¼Œä½†æ˜¯å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å°±ç›¸å½“äºç›®æ ‡æœåŠ¡å™¨ï¼Œå³ç”¨æˆ·ç›´æ¥è®¿é—®åå‘ä»£ç†æœåŠ¡å™¨å°±å¯ä»¥è·å¾—ç›®æ ‡æœåŠ¡å™¨çš„èµ„æºï¼Œåå‘ä»£ç†æœåŠ¡å™¨è´Ÿè´£å°†è¯·æ±‚è½¬å‘ç»™ç›®æ ‡æœåŠ¡å™¨ã€‚ç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ï¼Œä¹Ÿæ— é¡»åœ¨ç”¨æˆ·ç«¯ä½œä»»ä½•è®¾å®šï¼Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè®¿é—®åå‘ä»£ç†æœåŠ¡å™¨æ˜¯å®Œå…¨æ— æ„ŸçŸ¥çš„ã€‚</p><figure><img src="/assets/image-20210830233634695-DJOOYmc1.png" alt="image-20210830233634695" tabindex="0" loading="lazy"><figcaption>image-20210830233634695</figcaption></figure><p>é‚£ä¹ˆåœ¨æœ¬å°èŠ‚ï¼Œæˆ‘ä»¬å°±æ˜¯è¦ä½¿ç”¨nginxæ¥ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ä½¿ç”¨ã€‚ åœ¨nginxä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨nginx.confä¸­é…ç½®åå‘ä»£ç†:</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">server {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    listen 82</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server_name localhost</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    location / {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        proxy_pass http://192.168.200.201:8080</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">; 	#åå‘ä»£ç†é…ç½®ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°æŒ‡å®šæœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°é…ç½®çš„å«ä¹‰ä¸º: å½“æˆ‘ä»¬è®¿é—®nginxçš„82ç«¯å£æ—¶ï¼Œæ ¹æ®åå‘ä»£ç†é…ç½®ï¼Œä¼šå°†è¯·æ±‚è½¬å‘åˆ° http://192.168.200.201:8080 å¯¹åº”çš„æœåŠ¡ä¸Šã€‚</p><h4 id="_6-3-2-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_6-3-2-æµ‹è¯•"><span>6.3.2 æµ‹è¯•</span></a></h4><p>éœ€æ±‚: åœ¨192.168.200.201è¿™å°æœåŠ¡å™¨ä¸­éƒ¨ç½²äº†javaåº”ç”¨ï¼Œè¿è¡Œç«¯å£ä¸º8080ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªå¯è®¿é—®çš„é“¾æ¥ /helloã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦åœ¨è®¿é—®nginxçš„82ç«¯å£æ—¶ï¼Œé€šè¿‡nginxå°†è¯·æ±‚è½¬å‘åˆ°192.168.200.201:8080çš„æœåŠ¡ã€‚</p><img src="/assets/image-20210830235803013-CM4LCQEq.png" alt="image-20210830235803013" style="zoom:67%;"><p><strong>1). åœ¨192.168.200.201éƒ¨ç½²æœåŠ¡å¹¶å¯åŠ¨</strong></p><p>å°†èµ„æ–™ä¸­æä¾›çš„ helloworld-1.0-SNAPSHOT.jar ä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯ï¼Œå¹¶é€šè¿‡æŒ‡ä»¤ java -jar helloworld-1.0-SNAPSHOT.jar è¿è¡ŒæœåŠ¡ã€‚</p><figure><img src="/assets/image-20210831000152199-DfOsGkIa.png" alt="image-20210831000152199" tabindex="0" loading="lazy"><figcaption>image-20210831000152199</figcaption></figure><p><strong>2). åœ¨192.168.200.200ä¸­çš„nginx.confä¸­é…ç½®åå‘ä»£ç†</strong></p><p>è¿›å…¥nginxçš„å®‰è£…ç›®å½•ï¼Œå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶nginx.conf:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /usr/local/nginx/conf/</span></span>
<span class="line"><span>vim nginx.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨httpå—ä¸­,å†æ·»åŠ ä¸€ä¸ªserverå—è™šæ‹Ÿä¸»æœºçš„é…ç½®,ç›‘å¬82ç«¯å£,å¹¶é…ç½®åå‘ä»£ç†proxy_pass:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>server {</span></span>
<span class="line"><span>    listen 82;</span></span>
<span class="line"><span>    server_name localhost;</span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://192.168.200.201:8080; 	#åå‘ä»£ç†é…ç½®ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°æŒ‡å®šæœåŠ¡</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="/assets/image-20210831000747805-DjMWA3N2.png" alt="image-20210831000747805" style="zoom:80%;"><p><strong>3). æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼Œå¹¶é‡æ–°åŠ è½½</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nginx -t</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/assets/image-20210831001021252-EXACgAnE.png" alt="image-20210831001021252" tabindex="0" loading="lazy"><figcaption>image-20210831001021252</figcaption></figure><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nginx -s reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>4). è®¿é—®</strong></p><figure><img src="/assets/image-20210831001347257-Cfw57Wak.png" alt="image-20210831001347257" tabindex="0" loading="lazy"><figcaption>image-20210831001347257</figcaption></figure><p><mark>æ³¨æ„: åœ¨è®¿é—®82ç«¯å£æ—¶ï¼Œæœ‰å¯èƒ½è®¿é—®ä¸é€šï¼ŒåŸå› æ˜¯ä»¥ä¸ºé˜²ç«å¢™ä¸­æ²¡æœ‰å¼€æ”¾ç«¯å£å·ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥è§£å†³è¯¥é—®é¢˜ï¼š</mark></p><p><mark>A. å…³é—­é˜²ç«å¢™</mark></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl stop firewalld</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><mark>B. å¼€å‘æŒ‡å®šç«¯å£</mark></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>firewall-cmd --zone=public --add-port=82/tcp --permanent</span></span>
<span class="line"><span></span></span>
<span class="line"><span>firewall-cmd --reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-4-è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#_6-4-è´Ÿè½½å‡è¡¡"><span>6.4 è´Ÿè½½å‡è¡¡</span></a></h3><h4 id="_6-4-1-æ¦‚å¿µä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_6-4-1-æ¦‚å¿µä»‹ç»"><span>6.4.1 æ¦‚å¿µä»‹ç»</span></a></h4><p>æ—©æœŸçš„ç½‘ç«™æµé‡å’Œä¸šåŠ¡åŠŸèƒ½éƒ½æ¯”è¾ƒç®€å•ï¼Œå•å°æœåŠ¡å™¨å°±å¯ä»¥æ»¡è¶³åŸºæœ¬éœ€æ±‚ï¼Œä½†æ˜¯éšç€äº’è”ç½‘çš„å‘å±•ï¼Œä¸šåŠ¡æµé‡è¶Šæ¥è¶Šå¤§å¹¶ä¸”ä¸šåŠ¡é€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œå•å°æœåŠ¡å™¨çš„æ€§èƒ½åŠå•ç‚¹æ•…éšœé—®é¢˜å°±å‡¸æ˜¾å‡ºæ¥äº†ï¼Œå› æ­¤éœ€è¦å¤šå°æœåŠ¡å™¨ç»„æˆåº”ç”¨é›†ç¾¤ï¼Œè¿›è¡Œæ€§èƒ½çš„æ°´å¹³æ‰©å±•ä»¥åŠé¿å…å•ç‚¹æ•…éšœå‡ºç°ã€‚</p><p>**åº”ç”¨é›†ç¾¤ï¼š**å°†åŒä¸€åº”ç”¨éƒ¨ç½²åˆ°å¤šå°æœºå™¨ä¸Šï¼Œç»„æˆåº”ç”¨é›†ç¾¤ï¼Œæ¥æ”¶è´Ÿè½½å‡è¡¡å™¨åˆ†å‘çš„è¯·æ±‚ï¼Œè¿›è¡Œä¸šåŠ¡å¤„ç†å¹¶è¿”å›å“åº”æ•°æ®</p><p>**è´Ÿè½½å‡è¡¡å™¨ï¼š**å°†ç”¨æˆ·è¯·æ±‚æ ¹æ®å¯¹åº”çš„è´Ÿè½½å‡è¡¡ç®—æ³•åˆ†å‘åˆ°åº”ç”¨é›†ç¾¤ä¸­çš„ä¸€å°æœåŠ¡å™¨è¿›è¡Œå¤„ç†</p><img src="/assets/image-20210831080743617-DngOK9-B.png" alt="image-20210831080743617" style="zoom:80%;"><p>æ­¤å¤„çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨Nginxæ¥å®ç°ï¼Œè€ŒNginxçš„è´Ÿè½½å‡è¡¡æ˜¯åŸºäºåå‘ä»£ç†çš„ï¼Œåªä¸è¿‡æ­¤æ—¶æ‰€ä»£ç†çš„æœåŠ¡å™¨ä¸æ˜¯ä¸€å°ï¼Œè€Œæ˜¯å¤šå°ã€‚</p><h4 id="_6-4-2-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_6-4-2-æµ‹è¯•"><span>6.4.2 æµ‹è¯•</span></a></h4><p><strong>1). å°†èµ„æ–™ä¸­æä¾›çš„ä¸¤ä¸ªjaråŒ…ï¼Œä¸Šä¼ åˆ°192.168.200.201æœåŠ¡å™¨ä¸Š</strong></p><table><thead><tr><th>jar</th><th>è¿è¡Œç«¯å£</th><th>è¯·æ±‚é“¾æ¥</th><th>å“åº”æ•°æ®</th></tr></thead><tbody><tr><td><img src="data:image/png;base64,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" alt="image-20210831081023098" loading="lazy"></td><td>8080</td><td>/hello</td><td>8080</td></tr><tr><td><img src="data:image/png;base64,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" alt="image-20210831081038807" loading="lazy"></td><td>8081</td><td>/hello</td><td>8081</td></tr></tbody></table><blockquote><p>æˆ‘ä»¬åœ¨æµ‹è¯•æ—¶ï¼Œå¹¶æ²¡æœ‰é‚£ä¹ˆå¤šæœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸­å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼Œè¿è¡Œåœ¨ä¸åŒçš„ç«¯å£å·ä¸Šè¿›è¡Œæµ‹è¯•ã€‚</p></blockquote><p><strong>2). è¿è¡Œä¸Šä¼ ä¸Šæ¥çš„ä¸¤ä¸ªjaråŒ…ï¼Œè¿è¡Œç«¯å£åˆ†åˆ«æ˜¯ 8080 ï¼Œ 8081</strong></p><p>ç”±äºæˆ‘ä»¬æ‰§è¡Œ java -jar æŒ‡ä»¤ä¼šå ç”¨å‰å°çª—å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼€å¯ä¸¤ä¸ªçª—å£è¿›è¡Œæµ‹è¯•ã€‚</p><figure><img src="/assets/image-20210831081513575-k06e2PZ2.png" alt="image-20210831081513575" tabindex="0" loading="lazy"><figcaption>image-20210831081513575</figcaption></figure><figure><img src="/assets/image-20210831081544582-CpenKxZ8.png" alt="image-20210831081544582" tabindex="0" loading="lazy"><figcaption>image-20210831081544582</figcaption></figure><p><strong>3). åœ¨nginxä¸­é…ç½®è´Ÿè½½å‡è¡¡</strong></p><p>æ‰“å¼€nginxçš„é…ç½®æ–‡ä»¶nginx.confå¹¶å¢åŠ å¦‚ä¸‹é…ç½®:</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#upstreamæŒ‡ä»¤å¯ä»¥å®šä¹‰ä¸€ç»„æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">upstream targetserver{	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server 192.168.200.201:8080</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server 192.168.200.201:8081</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">server {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    listen       8080</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server_name  localhost</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    location / {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        proxy_pass http://targetserver</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“çš„é…ç½®ä½ç½®å¦‚ä¸‹:</p><figure><img src="/assets/image-20210831081939508-UtgH0OTG.png" alt="image-20210831081939508" tabindex="0" loading="lazy"><figcaption>image-20210831081939508</figcaption></figure><p><strong>4). é‡æ–°åŠ è½½nginxé…ç½®æ–‡ä»¶,è®¿é—®</strong></p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æµ‹è¯•æ—¶,æˆ‘ä»¬ç›´æ¥è®¿é—®nginxçš„8080ç«¯å£(http://192.168.200.200:8080), æ­¤æ—¶nginxä¼šæ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥,å°†è¯·æ±‚è½¬å‘åˆ°åé¢çš„ä¸¤å°æœåŠ¡å™¨ã€‚</p><figure><img src="/assets/image-20210831082339085-Cmdz2F3p.png" alt="image-20210831082339085" tabindex="0" loading="lazy"><figcaption>image-20210831082339085</figcaption></figure><p>åœ¨ä¸Šè¿°çš„æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è¯·æ±‚å‡è¡¡çš„è½¬å‘åˆ°äº†8080å’Œ8081ï¼Œå› ä¸ºæ¨¡å¼çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ˜¯è½®è¯¢ã€‚</p><!----><h4 id="_6-4-3-è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_6-4-3-è´Ÿè½½å‡è¡¡ç­–ç•¥"><span>6.4.3 è´Ÿè½½å‡è¡¡ç­–ç•¥</span></a></h4><p>å¤„ç†ä¸Šè¿°é»˜è®¤çš„è½®è¯¢ç­–ç•¥ä»¥å¤–ï¼Œåœ¨Nginxä¸­è¿˜æä¾›äº†å…¶ä»–çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå¦‚ä¸‹ï¼š</p><table><thead><tr><th><strong>åç§°</strong></th><th><strong>è¯´æ˜</strong></th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>è½®è¯¢</td><td>é»˜è®¤æ–¹å¼</td><td></td></tr><tr><td>weight</td><td>æƒé‡æ–¹å¼</td><td>æ ¹æ®æƒé‡åˆ†å‘è¯·æ±‚,æƒé‡å¤§çš„åˆ†é…åˆ°è¯·æ±‚çš„æ¦‚ç‡å¤§</td></tr><tr><td>ip_hash</td><td>ä¾æ®ipåˆ†é…æ–¹å¼</td><td>æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„IPåœ°å€è®¡ç®—hashå€¼ï¼Œ æ ¹æ®hashå€¼æ¥åˆ†å‘è¯·æ±‚, åŒä¸€ä¸ªIPå‘èµ·çš„è¯·æ±‚, ä¼šå‘è½¬å‘åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</td></tr><tr><td>least_conn</td><td>ä¾æ®æœ€å°‘è¿æ¥æ–¹å¼</td><td>å“ªä¸ªæœåŠ¡å™¨å½“å‰å¤„ç†çš„è¿æ¥å°‘, è¯·æ±‚ä¼˜å…ˆè½¬å‘åˆ°è¿™å°æœåŠ¡å™¨</td></tr><tr><td>url_hash</td><td>ä¾æ®urlåˆ†é…æ–¹å¼</td><td>æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚urlçš„hashå€¼ï¼Œæ¥åˆ†å‘è¯·æ±‚, åŒä¸€ä¸ªurlè¯·æ±‚, ä¼šå‘è½¬å‘åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</td></tr><tr><td>fair</td><td>ä¾æ®å“åº”æ—¶é—´æ–¹å¼</td><td>ä¼˜å…ˆæŠŠè¯·æ±‚åˆ†å‘ç»™å¤„ç†è¯·æ±‚æ—¶é—´çŸ­çš„æœåŠ¡å™¨</td></tr></tbody></table><p>æƒé‡çš„é…ç½®ï¼š</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#upstreamæŒ‡ä»¤å¯ä»¥å®šä¹‰ä¸€ç»„æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">upstream targetserver{	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server 192.168.200.201:8080 </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">weight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    server 192.168.200.201:8081 </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">weight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">5</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°é…ç½®çš„weightæƒé‡æ˜¯ç›¸å¯¹çš„ï¼Œåœ¨ä¸Šè¿°çš„é…ç½®ä¸­ï¼Œæ•ˆæœå°±æ˜¯ï¼Œåœ¨å¤§æ•°æ®é‡çš„è¯·æ±‚ä¸‹ï¼Œæœ€ç»ˆ8080æ¥æ”¶çš„è¯·æ±‚æ•°æ˜¯8081çš„ä¸¤å€ã€‚</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/udo-bit/udo-bit.github.io/edit/main/src/demo/back-ends/Java/å¤–å–é¡¹ç›®å®æˆ˜/ç‘å‰å¤–å–é¡¹ç›®ä¼˜åŒ–02.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: enote_gxl@163.com">udo-bit</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9601.html" aria-label="ç‘å‰å¤–å–ä¼˜åŒ–07"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><span class="font-icon icon iconfont icon-code" style=""></span>ç‘å‰å¤–å–ä¼˜åŒ–07</div></a><a class="route-link auto-link next" href="/demo/back-ends/Java/%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E4%BC%98%E5%8C%9603.html" aria-label="ç‘å‰å¤–å–ä¼˜åŒ–09"><div class="hint">Next<span class="arrow end"></span></div><div class="link">ç‘å‰å¤–å–ä¼˜åŒ–09<span class="font-icon icon iconfont icon-code" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">æœ¬ç«™å†…å®¹ä»…ä¾›äº¤æµå­¦ä¹ ä½¿ç”¨ï¼Œä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®ï¼Œå¦‚æœ‰ä¾µæƒï¼Œç«‹å³åˆ é™¤</div><div class="vp-copyright">Copyright Â© 2024 GXL </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CjACv6nF.js" defer></script>
  </body>
</html>
