import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,d as e}from"./app-B3Z58FXn.js";const l={},i=e(`<h2 id="案例需求" tabindex="-1"><a class="header-anchor" href="#案例需求"><span>案例需求</span></a></h2><p>使用shell脚本安装Python环境</p><h2 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景"><span>应用场景</span></a></h2><p>服务器业务初始化</p><h2 id="解决问题" tabindex="-1"><a class="header-anchor" href="#解决问题"><span>解决问题</span></a></h2><p>避免人工多次安装，节省人工成本 避免人工错误，提高工作效率</p><h2 id="脚本思路" tabindex="-1"><a class="header-anchor" href="#脚本思路"><span>脚本思路</span></a></h2><p>1、获得软件包 2、源码安装 3、升级pip命令</p><h2 id="案例代码" tabindex="-1"><a class="header-anchor" href="#案例代码"><span>案例代码</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#!/bin/bash</span></span>
<span class="line"><span>#Description: python install from zutuanxue(http://www.zutuanxue.com)</span></span>
<span class="line"><span>#Release: python 3.7.6</span></span>
<span class="line"><span>#Auther: zutuanxue</span></span>
<span class="line"><span>#Email: </span></span>
<span class="line"><span>#OS: Centos 8.X</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>#variables</span></span>
<span class="line"><span>python_download_url=https://www.python.org/ftp/python/3.7.6/Python-3.7.6.tgz</span></span>
<span class="line"><span>python_source_pkg=Python-3.7.6.tgz</span></span>
<span class="line"><span>python_code=Python-3.7.6</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>#functions</span></span>
<span class="line"><span>#安装前准备,安装必要依赖包</span></span>
<span class="line"><span>per_install () {</span></span>
<span class="line"><span>	if  ( ! yum -y install gcc-* openssl-* libffi-devel sqlite-devel &amp;&gt;/dev/null );then</span></span>
<span class="line"><span>	#if  ( ! yum -y install gcc-* openssl-* libffi-devel sqlite-devel ) &amp;&gt;/dev/null ;then</span></span>
<span class="line"><span>	echo -e &quot;\\033[31m network connection error,exit... \\033[0m&quot;</span></span>
<span class="line"><span>	exit 130</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#安装python</span></span>
<span class="line"><span>install () {</span></span>
<span class="line"><span>	#下载软件包</span></span>
<span class="line"><span>	wget $python_download_url</span></span>
<span class="line"><span>	#解压软件包</span></span>
<span class="line"><span>	if [ -f $python_source_pkg ];then</span></span>
<span class="line"><span>		tar xf $python_source_pkg</span></span>
<span class="line"><span>		[ $? -ne 0 ]&amp;&amp;echo &quot;$python_source_pkg unzip fail&quot;&amp;&amp;exit 1</span></span>
<span class="line"><span>		cd $python_code</span></span>
<span class="line"><span>		#配置,开启ssl支持https</span></span>
<span class="line"><span>		if ./configure --with-openssl=/usr/bin/openssl 1&gt;/dev/null;then</span></span>
<span class="line"><span>			#mv Modules/Setup Modules/Setup.bak</span></span>
<span class="line"><span>			cp -f ../Setup Modules/</span></span>
<span class="line"><span>			if make 1&gt;/dev/null;then</span></span>
<span class="line"><span>			#if make ;then</span></span>
<span class="line"><span>				if make install 1&gt;/dev/null;then</span></span>
<span class="line"><span>				#if make install ;then</span></span>
<span class="line"><span>					#if pip3 install --upgrade pip 1&gt;/dev/null;then</span></span>
<span class="line"><span>					#安装完成后更新pip</span></span>
<span class="line"><span>					if pip3 install --upgrade pip;then</span></span>
<span class="line"><span>						echo &quot;python install success&quot;</span></span>
<span class="line"><span>					else</span></span>
<span class="line"><span>						echo &quot;pip3 install fail&quot;</span></span>
<span class="line"><span>						exit 1</span></span>
<span class="line"><span>					fi</span></span>
<span class="line"><span>				else</span></span>
<span class="line"><span>					echo &quot;python install fail&quot;</span></span>
<span class="line"><span>					exit 1</span></span>
<span class="line"><span>				fi</span></span>
<span class="line"><span>			else</span></span>
<span class="line"><span>				echo &quot;python make fail&quot;</span></span>
<span class="line"><span>				exit 1</span></span>
<span class="line"><span>			fi</span></span>
<span class="line"><span>		else</span></span>
<span class="line"><span>			echo &quot;python configure fail&quot;</span></span>
<span class="line"><span>			exit</span></span>
<span class="line"><span>		fi</span></span>
<span class="line"><span>	else</span></span>
<span class="line"><span>		echo &quot;not found $python_source_pkg&quot;</span></span>
<span class="line"><span>		exit 1</span></span>
<span class="line"><span>	fi</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	</span></span>
<span class="line"><span></span></span>
<span class="line"><span>per_install;install</span></span>
<span class="line"><span>rm -rf $python_code</span></span>
<span class="line"><span>rm -rf python_source_pkg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),p=[i];function t(c,d){return a(),s("div",null,p)}const u=n(l,[["render",t],["__file","shell脚本案例-Python安装脚本.html.vue"]]),o=JSON.parse('{"path":"/demo/back-ends/Linux/Shell%E8%84%9A%E6%9C%AC/shell%E8%84%9A%E6%9C%AC%E6%A1%88%E4%BE%8B-Python%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC.html","title":"shell脚本案例-Python安装脚本","lang":"en-US","frontmatter":{"title":"shell脚本案例-Python安装脚本","icon":"code","category":"shell","order":33,"description":"案例需求 使用shell脚本安装Python环境 应用场景 服务器业务初始化 解决问题 避免人工多次安装，节省人工成本 避免人工错误，提高工作效率 脚本思路 1、获得软件包 2、源码安装 3、升级pip命令 案例代码","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/demo/back-ends/Linux/Shell%E8%84%9A%E6%9C%AC/shell%E8%84%9A%E6%9C%AC%E6%A1%88%E4%BE%8B-Python%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC.html"}],["meta",{"property":"og:site_name","content":"Utopia"}],["meta",{"property":"og:title","content":"shell脚本案例-Python安装脚本"}],["meta",{"property":"og:description","content":"案例需求 使用shell脚本安装Python环境 应用场景 服务器业务初始化 解决问题 避免人工多次安装，节省人工成本 避免人工错误，提高工作效率 脚本思路 1、获得软件包 2、源码安装 3、升级pip命令 案例代码"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-09-21T02:46:20.000Z"}],["meta",{"property":"article:author","content":"GXL"}],["meta",{"property":"article:modified_time","content":"2024-09-21T02:46:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"shell脚本案例-Python安装脚本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-21T02:46:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"GXL\\",\\"url\\":\\"https://www.cnblogs.com/feel-myself\\",\\"email\\":\\"gaoxiaoliang123@126.com\\"}]}"]]},"headers":[{"level":2,"title":"案例需求","slug":"案例需求","link":"#案例需求","children":[]},{"level":2,"title":"应用场景","slug":"应用场景","link":"#应用场景","children":[]},{"level":2,"title":"解决问题","slug":"解决问题","link":"#解决问题","children":[]},{"level":2,"title":"脚本思路","slug":"脚本思路","link":"#脚本思路","children":[]},{"level":2,"title":"案例代码","slug":"案例代码","link":"#案例代码","children":[]}],"git":{"createdTime":1726886780000,"updatedTime":1726886780000,"contributors":[{"name":"udo-bit","email":"enote_gxl@163.com","commits":1}]},"readingTime":{"minutes":1.08,"words":324},"filePathRelative":"demo/back-ends/Linux/Shell脚本/shell脚本案例-Python安装脚本.md","localizedDate":"September 21, 2024","excerpt":"<h2>案例需求</h2>\\n<p>使用shell脚本安装Python环境</p>\\n<h2>应用场景</h2>\\n<p>服务器业务初始化</p>\\n<h2>解决问题</h2>\\n<p>避免人工多次安装，节省人工成本\\n避免人工错误，提高工作效率</p>\\n<h2>脚本思路</h2>\\n<p>1、获得软件包\\n2、源码安装\\n3、升级pip命令</p>\\n<h2>案例代码</h2>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>#!/bin/bash</span></span>\\n<span class=\\"line\\"><span>#Description: python install from zutuanxue(http://www.zutuanxue.com)</span></span>\\n<span class=\\"line\\"><span>#Release: python 3.7.6</span></span>\\n<span class=\\"line\\"><span>#Auther: zutuanxue</span></span>\\n<span class=\\"line\\"><span>#Email: </span></span>\\n<span class=\\"line\\"><span>#OS: Centos 8.X</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>#variables</span></span>\\n<span class=\\"line\\"><span>python_download_url=https://www.python.org/ftp/python/3.7.6/Python-3.7.6.tgz</span></span>\\n<span class=\\"line\\"><span>python_source_pkg=Python-3.7.6.tgz</span></span>\\n<span class=\\"line\\"><span>python_code=Python-3.7.6</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>#functions</span></span>\\n<span class=\\"line\\"><span>#安装前准备,安装必要依赖包</span></span>\\n<span class=\\"line\\"><span>per_install () {</span></span>\\n<span class=\\"line\\"><span>\\tif  ( ! yum -y install gcc-* openssl-* libffi-devel sqlite-devel &amp;&gt;/dev/null );then</span></span>\\n<span class=\\"line\\"><span>\\t#if  ( ! yum -y install gcc-* openssl-* libffi-devel sqlite-devel ) &amp;&gt;/dev/null ;then</span></span>\\n<span class=\\"line\\"><span>\\techo -e \\"\\\\033[31m network connection error,exit... \\\\033[0m\\"</span></span>\\n<span class=\\"line\\"><span>\\texit 130</span></span>\\n<span class=\\"line\\"><span>fi</span></span>\\n<span class=\\"line\\"><span>}</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>#安装python</span></span>\\n<span class=\\"line\\"><span>install () {</span></span>\\n<span class=\\"line\\"><span>\\t#下载软件包</span></span>\\n<span class=\\"line\\"><span>\\twget $python_download_url</span></span>\\n<span class=\\"line\\"><span>\\t#解压软件包</span></span>\\n<span class=\\"line\\"><span>\\tif [ -f $python_source_pkg ];then</span></span>\\n<span class=\\"line\\"><span>\\t\\ttar xf $python_source_pkg</span></span>\\n<span class=\\"line\\"><span>\\t\\t[ $? -ne 0 ]&amp;&amp;echo \\"$python_source_pkg unzip fail\\"&amp;&amp;exit 1</span></span>\\n<span class=\\"line\\"><span>\\t\\tcd $python_code</span></span>\\n<span class=\\"line\\"><span>\\t\\t#配置,开启ssl支持https</span></span>\\n<span class=\\"line\\"><span>\\t\\tif ./configure --with-openssl=/usr/bin/openssl 1&gt;/dev/null;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t#mv Modules/Setup Modules/Setup.bak</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tcp -f ../Setup Modules/</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tif make 1&gt;/dev/null;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t#if make ;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tif make install 1&gt;/dev/null;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t#if make install ;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t#if pip3 install --upgrade pip 1&gt;/dev/null;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t#安装完成后更新pip</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\tif pip3 install --upgrade pip;then</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t\\techo \\"python install success\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\telse</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t\\techo \\"pip3 install fail\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\t\\texit 1</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\tfi</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\telse</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\techo \\"python install fail\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\t\\texit 1</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\tfi</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\telse</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\techo \\"python make fail\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\t\\texit 1</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\tfi</span></span>\\n<span class=\\"line\\"><span>\\t\\telse</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\techo \\"python configure fail\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\t\\texit</span></span>\\n<span class=\\"line\\"><span>\\t\\tfi</span></span>\\n<span class=\\"line\\"><span>\\telse</span></span>\\n<span class=\\"line\\"><span>\\t\\techo \\"not found $python_source_pkg\\"</span></span>\\n<span class=\\"line\\"><span>\\t\\texit 1</span></span>\\n<span class=\\"line\\"><span>\\tfi</span></span>\\n<span class=\\"line\\"><span>}</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>\\t</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>per_install;install</span></span>\\n<span class=\\"line\\"><span>rm -rf $python_code</span></span>\\n<span class=\\"line\\"><span>rm -rf python_source_pkg</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{u as comp,o as data};
